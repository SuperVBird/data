{"id":64565,"link":"https://chinadigitaltimes.net/chinese/2010/04/全文转载cnnic-ca：最最最严重安全警告！/","date":"2010-04-28T23:10:21Z","modified":"2010-04-28T23:10:21Z","title":"[全文转载]CNNIC CA：最最最严重安全警告！","content":"<p>以下转载自：http://docs.google.com/View?id=d5j3s7p_7f9r489fg</p>\n<p>===================</p>\n<div>\n<div>\n<div>\n<div>\n<div>\n<h1 style=\"text-align:center\"><strong> CNNIC CA：最最最严重安全警告！</strong></h1>\n<p>各位，虽然此事与 AutoProxy 无关，但它对所有（也包括 AutoProxy）用户都是一个非常严重的安全威胁。我，<a href=\"http://twitter.com/WCM\">WCM</a>，AutoProxy 作者，以个人名誉强烈建议您认真阅读并采取措施。</p>\n<h1>背景知识</h1>\n<p>网上传输的任何信息都有可能被恶意截获。尽管如此，我们仍然在网上保存着很多重要的资料，比如私人邮件、银行交易。这是因为，有一个叫着 SSL/TLS/HTTPS 的东西在保障我们的信息安全，它将我们和网站服务器的通信加密起来。</p>\n<p>如果网站觉得它的用户资料很敏感，打算使用 SSL/TLS/HTTPS 加密，必须先向有 CA (Certificate Authority) 权限的公司/组织申请一个证书。有 CA 权限的公司/组织都是经过全球审核，值得信赖的。</p>\n<h1>发生了什么事</h1>\n<p>最近，CNNIC——对，就是那个臭名昭著的利用系统漏洞发布流氓软件的、就是那个使劲忽悠 CN 域名又突然停止域名解析的 CNNIC (中国互联网络信息中心)，它——偷偷地获得了 CA 权限！在所有中文用户被隐瞒的情况下！</p>\n<h1>意味着什么</h1>\n<p>意味着 CNNIC 可以随意造一个假的证书给任何网站，替换网站真正的证书，从而盗取我们的任何资料！</p>\n<p>这就是传说中的 SSL MITM 攻击。以前这个攻击不重要是因为攻击的证书是假的，浏览器会告诉我们真相；现在，因为 CNNIC 有了 CA 权限，浏览器对它的证书完全信任，不会给我们任何警告，即使是造假的证书！</p>\n<p>你信任 CNNIC (中国互联网络信息中心) 吗？你相信它有了权限，会安守本分，不会偷偷地干坏事吗？<br />\n我对此有3个疑问：</p>\n<ol>\n<li> 某 party 对 GMail 兴趣浓厚，GFW 苦练 SSL 内功多年，无大进展。如今有了 CA，若 GFW 令下，CNNIC 敢不从否？</li>\n<li> CNNIC 当年利用所谓官方头衔，制流氓软件祸害网民。如今有了 CA，如何相信它不会故伎重演？</li>\n<li> 为了得到指定网站的合法证书，其它流氓公司抛出钱权交易，面对诱惑，CNNIC 是否有足够的职业操守？</li>\n</ol>\n<h1>影响范围</h1>\n<p>基本上所有浏览器的所有用户均受影响！</p>\n<h1>行动第一步：立即安全防御</h1>\n<p>在此只介绍 Firefox 浏览器的防御方法，其它浏览器的用户请自行 Google，原理类似。</p>\n<ul>\n<li> 菜单栏：工具/编辑-&gt;首选项-&gt;高级-&gt;加密-&gt;查看证书-&gt;证书机构(Authorites)</li>\n<li> 这是一个很长的列表，按照字母顺序，你应该能找到一个叫着 “CNNIC ROOT” 的记录，就是这个东西，告诉 Firefox，我们不信任它！</li>\n<li> 选中 CNNIC ROOT，点击下面的“编辑”按钮，弹出一个框，应该有3个选项，把所有选项的勾都去掉！保存。</li>\n<li> 还没有完，狡兔有三窟。</li>\n<li> 接着往下找，有一个叫着 Entrust.net 的组，这个组里应该有一个 “CNNIC SSL” (如果没有，访问一下 <a href=\"https://tns-fsverify.cnnic.cn/\" rel=\"nofollow\">这个网 站</a> 就有了)</li>\n<li> 别急着下手，这回情况不一样，这个证书是 Entrust 签名的。我们信任 Entrust，Entrust 说它信任 CNNIC，所以我们就被迫信任 CNNIC SSL 了。找到 “Entrust.net Secure Server Certification Authority” 这一条，同上面一样，把3个选项的勾都去掉，保存（提示：取消了对 Entrust 的信任以后，可能会没法打开它签名的某些正常网站。至于哪个网站用了它的签名，随便试了一下，没找到例子）。</li>\n<li> 最后，让我们验证一下。重启 Firefox，打开 <a href=\"https://tns-fsverify.cnnic.cn/\" rel=\"nofollow\">这个</a> 和 <a href=\"https://www.enum.cn/\" rel=\"nofollow\">这个</a> 网站，如果Firefox 对这两个网站都给出了安全警告，而非正常浏览，恭喜，您已经摆脱了 CNNIC CA 的安全威胁！</li>\n</ul>\n<h1>行动第二步：治标还需治本</h1>\n<p>几天前听到这个消息的时候，我简单地、轻蔑地将 CNNIC 删除了事。可是这个周末，我忽然觉得这样很不好。因为只要它存在，始终会有大部分的用户受到威胁。和写 AutoProxy 时同样的想法：如果大部分人都处于安全威胁当中，一个人苟且偷安又有什么意义？如果不能将自由与安全的门槛降低一点点，所谓的技术又有什么好侥幸的？</p>\n<p>所以我呼吁大家，贡献一点时间和知识，团结起来说服各浏览器取消 CNNIC 的 CA 权限。这种事不可能有公司来推动，只有我们社区。</p>\n<p>首先推荐的是 Firefox，作为一个公益组织 Mozilla 的决策过程更为开放、更愿意听取社区的声音。<a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=476766\">Bug 476766</a> 记录了事件的全过程。<a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=542689\">Bug 542689</a> 和 <a href=\"http://groups.google.com/group/mozilla.dev.security.policy/browse_thread/thread/17be3bd7e0b33e8c/d69aea4eb35c5ee3\">Mozilla.dev.security.policy</a> 进行着现在的讨论（注意，你可以把自己添加到 Bugzilla 的 CC List 以表达你对此事的关切。但是不要随便说一些不靠谱的话，免遭讨厌。强调政治、GFW 的之类的不管用，必须就事论事。比如它在申请过程中采取欺骗、隐瞒的手段，或者申请成功后的某些行为违反了 Mozilla 的 CA 政策；比如它的属性和过往行为表明它不会忠于自己的职责，而(帮助)做出 MITM 这种 CA 共愤的事情）。</p>\n<p>其次是 Entrust，它说它信任，导致了我们也被迫信任 CNNIC SSL。不妨 <a href=\"http://www.entrust.com/contact/index.htm\" rel=\"nofollow\">告诉 Entrust 此事很严重</a>， 因为它错误地信任了 CNNIC，大量用户不得不删除它的 CA。如果能找到使用 Entrust 证书的网站更好。给这些网站写信，因为此次事件我们不得不删除了 Entrust 的 CA，请求他们另选别家认证。如果反响强烈，势必给 Entrust 造成很大压力。</p>\n<p>除此之外，<a href=\"https://spreadsheets.google.com/viewform?formkey=dGctTVY0Y3VxX3lrXzZoeG90WDFBVXc6MA\">来 投个票吧</a>（<a href=\"https://spreadsheets.google.com/pub?key=tg-MV4cuq_yk_6hxotX1AUw&amp;output=html\">结 果统计</a>）！</p>\n<p>最 后，强烈建议大家，发现证书警告的时候最好直接关掉，不要轻易添加例外。证书的信任体系是一级依赖一级的，一不小心你可能就会连带信任一个不想信 任的 CA。上面用于验证的两个网站，不妨定期（每周/每月）测一测，如果哪天你发现其中的任何一个网站没有证书警告，就要注意了！</p>\n<p><strong>各位：<br />\nDNS 劫持已然成为常态，不要让 SSL 劫持再次普及！此事刚刚发布，尚有评议空间。待时间流逝，你我皆成温水中之青蛙！</strong></p>\n</div>\n</div>\n</div>\n</div>\n</div>\n<p>// </p>\n<p><img border=\"0\" height=\"0\" src=\"http://www1.feedsky.com/t1/341482430/8logweekly/feedsky/s.gif?r=http://item.feedsky.com/~feedsky/8logweekly/~7765601/341482430/4779575/1/item.html\" width=\"0\"></p>\n<p><a href=\"http://www1.feedsky.com/r/l/feedsky/8logweekly/341482430/art01.html\"><img border=\"0\" ismap src=\"http://www1.feedsky.com/r/i/feedsky/8logweekly/341482430/art01.gif\"></a></p>\n","author":176,"categories":[1],"tags":[7775,5908,8339,9475]}