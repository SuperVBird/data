{"id":140108,"link":"https://chinadigitaltimes.net/chinese/2011/03/新浪微博rss生成器ver-1-0-同步twitter帐号/","date":"2011-03-16T16:01:47Z","modified":"2011-03-16T16:01:47Z","title":"新浪微博RSS生成器Ver 1.0 同步Twitter帐号","content":"<p>来源：<a href=\"http://www.jinweijie.com/asp-net/sina-micro-blog-rss-generator-sync-twitter/\">http://www.jinweijie.com/asp-net/sina-micro-blog-rss-generator-sync-twitter/</a></p>\n<p>同时在用twitter和新浪微博，在twitter上主要看贴为主，在新浪微博上发帖比较多。于是就想到是否搞一下将新浪微博同步到twitter上。搜索了下，发现<a href=\"http://www.williamlong.info/\">月光博客</a>上提供了<a href=\"http://www.williamlong.info/archives/2080.html\">解决方案</a>，不过稍有遗憾的是没有图片的同步。于是就自己用<a href=\"http://asp.net\">asp.net</a>实现了下，用下来感觉还行，所以分享一下，同时提供源代码，如果有定制开发的朋友可以修改源码，但如果再发布时候，请注明出处，先谢谢了！</p>\n<h2>下载</h2>\n<p><a href=\"http://www.jinweijie.com/download/SinaFeed_Bin_ver_1.0.zip\">新浪微博RSS生成器Ver 1.0 发布包</a></p>\n<p><a href=\"http://www.jinweijie.com/download/SinaFeed_Src_ver_1.0.zip\">新浪微博RSS生成器Ver 1.0 源代码</a></p>\n<h2>部署步骤</h2>\n<ol>\n<li>首先，需要一个.Net Framework 2.0以上的IIS环境。</li>\n<li>将SinaFeed_Bin_ver_1.0.zip解压以后，部署成网站或者虚拟目录。</li>\n<li>将包里面的db文件夹赋予network service以及aspnet用户可写权限，偷懒且安全的话，给everyone即可。</li>\n<li>运行起来的话，应该会是个Authentication Error的错误，这是正常的，因为接下来要配置下。</li>\n</ol>\n<h2>同步原理</h2>\n<p>用FeedBurner绑定Twitter，在FeedBurner中配置Rss源到SinaFeed应用。当FeedBurner每次来ping 的时候，SinaFeed抓取新浪微博的内容，检查是否已经抓取过，把结果保存在Access数据库中，返回Rss给FeedBurner。</p>\n<h2>实现功能</h2>\n<ul>\n<li>同步新浪微博到Twitter。</li>\n<li>包含图片链接，可配置。</li>\n<li>包含转发原文及作者。</li>\n</ul>\n<h2>配置</h2>\n<p>在Web.Config里，有以下几个可以配置的选项：</p>\n<p><strong>代理服务器相关</strong>，例如你的网站访问外网需要代理的话，请设置一下配置：    <br />UseProxy , ProxyAddress, ProxyPort, ProxyDomain, ProxyUserName, ProxyUserPassword</p>\n<p><strong>AuthCodeConfig</strong> 配置在应用里的授权码，自己设定一个，例如abc，当外面请求RSS的时候，需要在Url传递一个AuthCode，要和所配置的（abc）一直，程序才会返回结果，否则报Authentication Error错误。</p>\n<p><strong>AllowedUserIds</strong> 允许被处理新浪微博Id，如何得到你的Id？只要点击&#8221;关注&#8221;，在Url里就会出现你的Id，例如，我的Id是：1650422717 。SinaFeed支持多个Id，用逗号(,) 分割。</p>\n<p><strong>RssChannelUrl</strong> 所生成的Rss的ChannelUrl</p>\n<p><strong>RssBaseGuid</strong> 所生成的Rss的唯一标识</p>\n<p><strong>RssTitle</strong> 所生成的Rss的标题</p>\n<p><strong>RssDescription</strong> 所生成的Rss的描述</p>\n<h2>使用步骤</h2>\n<p>例如，你部署在<a href=\"http://www.example.com/\">www.example.com</a>上<u>，</u>虚拟目录为SinaFeed，你的新浪Id为1650422717，AuthCodeConfig你配置了jinweijiesinafeed那么</p>\n<p>访问<a href=\"http://www.example.com/SinaFeed/Default.aspx?SinaUserId=1650422717&#038;AuthCode=jinweijiesinafeed\">http://www.example.com/SinaFeed/Default.aspx?SinaUserId=1650422717&#038;AuthCode=jinweijiesinafeed</a></p>\n<p>就可以得到用户1650422717的Rss了。</p>\n<p>另外的一些可传参数的配置：</p>\n<p><strong>UseOriginalImage</strong> 是否使用原来的大图片，默认True，如果False的话，将会使用新浪微博的缩略图。</p>\n<p><strong>RssMaxItemCount</strong> 返回RSS Items的最大数量。</p>\n<p><strong>AttachImageToEnclosure</strong> 是否将图片已Enclosure的方式发布到RSS</p>\n<p><strong>AttachImageToTitle</strong> 是否将图片地址添加到RSS Item的Title后面。</p>\n<p><strong>AttachImageToDescription</strong> 是否将图片地址添加到RSS Item的Description后面。</p>\n<p><strong>AttachOriginalMblogToRT</strong> 如果是转发微博，是否添加原微博到。    </p>\n<p>一般我的配置：</p>\n<p><a href=\"http://www.example.com/SinaFeed/Default.aspx?SinaUserId=1650422717&#038;AuthCode=jinweijiesinafeed&#038;AttachImageToDescription=true\">http://www.example.com/SinaFeed/Default.aspx?SinaUserId=1650422717&#038;AuthCode=jinweijiesinafeed&#038;AttachImageToDescription=true</a></p>\n<h2>同步结果</h2>\n<p><strong>新浪微博</strong>：</p>\n<p><a href=\"http://www.jinweijie.com/wp-content/uploads/2011/03/image.png\"><img alt=\"image\" border=\"0\" height=\"649\" src=\"http://www.jinweijie.com/wp-content/uploads/2011/03/image_thumb.png\" title=\"image\" width=\"373\" /></a></p>\n<p><strong>Twitter</strong>:</p>\n<p><a href=\"http://www.jinweijie.com/wp-content/uploads/2011/03/image1.png\"><img alt=\"image\" border=\"0\" height=\"484\" src=\"http://www.jinweijie.com/wp-content/uploads/2011/03/image_thumb1.png\" title=\"image\" width=\"398\" /></a></p>\n<h2>FeedBurner的配置</h2>\n<p>有了RSS，然后我们就可以配置FeedBurner来绑定Twitter帐号了。</p>\n<ol>\n<li>首先，你需要一个FeedBurner的帐号，需要翻个墙，如何注册这里就不赘述了，大家应该各有神通吧。</li>\n<li>然后填入你的SinaFeed应用的地址：     <br /><a href=\"http://www.jinweijie.com/wp-content/uploads/2011/03/image2.png\"><img alt=\"image\" border=\"0\" height=\"235\" src=\"http://www.jinweijie.com/wp-content/uploads/2011/03/image_thumb2.png\" title=\"image\" width=\"420\" /></a></li>\n<li>在Publicize tab里的Socialize菜单绑定你的Twitter帐号，保存。     <br /><a href=\"http://www.jinweijie.com/wp-content/uploads/2011/03/image3.png\"><img alt=\"image\" border=\"0\" height=\"356\" src=\"http://www.jinweijie.com/wp-content/uploads/2011/03/image_thumb3.png\" title=\"image\" width=\"426\" /></a></li>\n<li>一般FeedBurner更新周期是30分钟，你也可以用它的ping功能，马上实现同步。</li>\n</ol>\n<h2>我的新浪微博</h2>\n<p>有任何问题可以加<a href=\"http://t.sina.com.cn/jinweijie\">我的微博</a>进行讨论。我的新浪微博和twitter都是@jinweijie 。谢谢！</p>\n<p></p>\n<h4>―――――――――――――――――――――――――――――――――――――――――</h4>\n<h4>需要翻墙利器赛风? 请<a href=\"https://www.google.com/profiles/112915952962578336480\">阅读和关注中国数字时代</a>。</p>\n<p>推特用户请点击<a href=\"http://qinzhigang.in/login.php\">这里</a>免翻墙上推特</h4>\n<p>请点击<a href=\"https://sesawe.net/-Tools-zh-.html\">这里</a>下载翻墙软件 </p>\n<p>更多翻墙方法请发电邮(最好用Gmail)到：<a href=\"mailto:fanqiang70ma@gmail.com\">fanqiang70ma@gmail.com</a>  </p>\n<p>请阅读和关注<a href=\"https://www.google.com/profiles/112915952962578336480\">中国数字时代</a>、翻墙技术博客<a href=\"https://www.google.com/profiles/chinagfwblog\">GFW BLOG</a>（免翻墙）  </p>\n<p>请使用<a href=\"https://www.google.com/reader/view/\">Google Reader</a><a href=\"https://www.google.com/reader/view/feed/http://chinadigitaltimes.net/chinese/feed\">订阅中国数字时代中文版</a>（<a href=\"http://chinadigitaltimes.net/chinese/feed\">http://chinadigitaltimes.net/chinese/feed</a>），阅读最有价值的中文信息；以及<a href=\"https://www.google.com/reader/view/feed/http://feeds2.feedburner.com/chinagfwblog\">GFW BLOG（功夫网与翻墙）</a><a href=\"http://feeds2.feedburner.com/chinagfwblog\">http://feeds2.feedburner.com/chinagfwblog</a>，获取最新翻墙工具和翻墙技巧信息。</p>\n<p>  </p>\n<div><img alt=\"\" height=\"1\" src=\"https://blogger.googleusercontent.com/tracker/5500297126185736776-5270568462227767891?l=www.chinagfw.org\" width=\"1\" /></div>\n<p><img height=\"1\" src=\"http://feeds.feedburner.com/~r/chinagfwblog/~4/SFxNBqhPquE\" width=\"1\" /></p>\n<p><img src=\"http://www.jinweijie.com/wp-content/uploads/2011/03/image_thumb.png\" /></p>\n<p><b>要翻墙？(发邮件到Gmail):CDTcaonimaATgmail.com</b></p>\n","author":319,"categories":[15300],"tags":[8339,8859,8795,8800]}