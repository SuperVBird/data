{"id":118680,"link":"https://chinadigitaltimes.net/chinese/2010/11/开放是把双刃剑：从-android-的-sms-读取权限说起/","date":"2010-11-01T16:04:33Z","modified":"2010-11-01T16:04:33Z","title":"开放是把双刃剑：从 Android 的 SMS 读取权限说起","content":"<p><p>来自: <a href=\"http://www.feedzshare.com/b/81467/2\">iFanr 爱范儿 ♂专注于拇指设备的小众讨论 &#8211; FeedzShare</a>  <br />\n<br />发布时间:2010年10月31日,  已有 7 人推荐 </p>\n<hr>\n<div>\n<p><img alt=\"\" height=\"360\" src=\"http://www.ifanr.com/wp-content/uploads/2010/10/evil-android-pack-480x360.jpg\" title=\"evil-android-pack\" width=\"480\" /></p>\n<p>最近<a href=\"http://bits.blogs.nytimes.com/2010/10/27/android-app-forwards-private-text-messages/\">纽约时报爆出消息</a>，一个名叫 Secret SMS Replicator 的 Android 应用会偷偷的把手机上的短信息发给另外一台手机。大家一看就知道，这 app 是获取对方有否外遇的利器，或则刺探商业机密等等。开发 app 的 DLP Mobile 也说：“虽然这个应用有点争议性，但对于感情出问题的人们来说非常有用”。SSP 安装后没有图标和快捷键，所以被安装的手机，如果不是去系统设置里查看当前运行的服务是不知道有这种东西存在的。</p>\n<p>Google 方面获知此事以后，已经以 app 违反 Android 菜市场内容条款的规定，被下架了。所以我无法下载确认该 app 的运行机制，但可以肯定的是用后台服务运行机制，随手机启动而自动运行。这里可以简单说下原理：</p>\n<p>在 Android 程序的 AndroidManifest.xml 里面，定义随手机启动而自动运行的定义：</p>\n<p><img alt=\"\" height=\"153\" src=\"http://www.ifanr.com/wp-content/uploads/2010/10/Screen-shot-2010-10-30-at-1.49.00-PM-480x153.png\" title=\"Screen shot 2010-10-30 at 1.49.00 PM\" width=\"480\" /></p>\n<p>uses-permission android.permission.RECEIVE_BOOT_COMPLETED 是告诉 Android 系统我要监听手机启动的事件。当该事件发生以后，BootUpReceiver 会来处理这一事件。这里就可以启动一个后台服务，监听 SMS 的事件。</p>\n<p>监听 SMS 也需要几个系统的权限：</p>\n<ul>\n<li>读取 SMS 的权限：android.permission.READ_SMS</li>\n<li>监听处理收到的 SMS 的权限：android.permission.RECEIVE_SMS</li>\n<li>监听处理彩信的是：android.permission.RECEIVE_MMS</li>\n<li>发布 SMS 权限是：android.permission.SEND_SMS</li>\n<li>当然还有编辑 SMS 的权限：android.permission.WRITE_SMS</li>\n</ul>\n<p>有了这些系统的 SMS 权限，你的 app 可以为所欲为了。</p>\n<p>可能 Android 团队也意识到这一点，在今年 5 月份的官方 Android 博客上发表了篇隐晦的文章：<br />\n<a href=\"http://android-developers.blogspot.com/2010/05/be-careful-with-content-providers.html\">Be Careful With Content Providers</a></p>\n<p>其中指名道姓抓典型的就是 SMS 这个 Content Provider：</p>\n<blockquote>\n<p>\nFor example, there’s one inside the built-in Messaging (A.K.A. texting or SMS) app that it uses to display and search your history. Just because it’s there doesn’t mean you should use it. <strong>The Android team isn’t promising that it’ll be the same in the next release or even that it’ll be there in the next release.</strong></p>\n</blockquote>\n<p>Android 团队不保证在将来的版本中会继续开放这个短信息的 API。</p>\n<p>系统开放是件好事，但让普通用户决定哪些 app 可以获取哪些权限是有点要求过度了。一般人下载 app 可根本不看所谓的权限。就算看也不一定知道连带的后果。尤其是像 Android 菜市场这种没有经过审核就可以发布 app 的平台，用户们尤其要小心下载来路不明的 app。</p>\n<p>当然 SMS 读取权限还只是 Android 开放系统里隐患的冰山一角。另外一些扫描手机文件偷偷上传照片，视频的 app，也是非常容易实现的。所以：用安卓手机有风险，用户需谨慎。</p>\n<p>﻿ifanr 两周年庆专题 ifanrGift 及惠普配件馈送活动进行中，请移步<a href=\"http://event.ifanr.com/\">Http://event.ifanr.com</a></p>\n<p>Follow <a href=\"http://twitter.com/lordhong\"><img alt=\"lordhong\" src=\"http://www.ifanr.com/wp-content/plugins/sociable/images/twitter.png\" />@</a><a href=\"http://twitter.com/lordhong\">lordhong</a>，<img alt=\"lordhong\" src=\"http://www.ifanr.com/wp-content/plugins/sociable/images/sina.png\" /><a href=\"http://t.sina.com.cn/lordhong\">@lordhong</a>，转载请注明 ifanr <a href=\"http://www.ifanr.com/24330\">原文链接</a></p>\n<hr>\n<p><small>© lordhong for <a href=\"http://www.ifanr.com\">爱范儿: 拇指资讯小众讨论</a>, 2010. |<br />\n<a href=\"http://www.ifanr.com/24330\">Permalink</a> |<br />\n<a href=\"http://www.ifanr.com/24330#comments\">17 comments</a> |<br />\nAdd to<br />\n<a href=\"http://del.icio.us/post?url=http://www.ifanr.com/24330&#038;title=%E5%BC%80%E6%94%BE%E6%98%AF%E6%8A%8A%E5%8F%8C%E5%88%83%E5%89%91%EF%BC%9A%E4%BB%8E%20Android%20%E7%9A%84%20SMS%20%E8%AF%BB%E5%8F%96%E6%9D%83%E9%99%90%E8%AF%B4%E8%B5%B7\">del.icio.us</a><br />\n<br />\nPost tags: <a href=\"http://www.ifanr.com/tag/google-android\" rel=\"tag\">Google &#038; Android</a>, <a href=\"http://www.ifanr.com/tag/sms\" rel=\"tag\">SMS</a>, <a href=\"http://www.ifanr.com/tag/%E5%AE%89%E5%85%A8%E6%BC%8F%E6%B4%9E\" rel=\"tag\">安全漏洞</a>, <a href=\"http://www.ifanr.com/tag/%E5%BC%80%E6%94%BE\" rel=\"tag\">开放</a><br />\n</small></p>\n</div>\n<p><img src=\"http://img.tongji.linezing.com/1017243/tongji.gif\" /><img src=\"http://img.tongji.linezing.com/997968/tongji.gif\" /></p>\n","author":176,"categories":[1],"tags":[]}