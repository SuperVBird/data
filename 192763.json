{"id":192763,"link":"https://chinadigitaltimes.net/chinese/2011/10/翻墙-用gae搭建自己的个性化推҉特҉api/","date":"2011-10-31T10:31:30Z","modified":"2011-10-31T10:31:30Z","title":"翻墙 | 用GAE搭建自己的个性化推҉特҉API","content":"<p><p>来源：<a rel=\"nofollow\" target=\"_blank\" href=\"http://blog.newchen.com/post/1389\">http://blog.newchen.com/post/1389</a></p>\n<p>本文将以尽可能最详细的方法，讲述使用Gtap搭建自己Twitter API的整个流程，并尽可能保证每一个步骤都配有截图做参考，以便大家理解。不过这样一来，文章版面可能就会被拉的较长，所以。。。就不罗嗦多余的话了。。。 正文开始。。。</p>\n<p><strong><span>&#8211; 搭建部分 &#8211;</span></strong></p>\n<p>首先需要到 <a rel=\"nofollow\" target=\"_blank\" href=\"https://appengine.google.com/\">Google Appengine</a><span> </span>新注册一个程序（一定不要上传到以前申请的别的APP上）。注册方法非常简单，和前几天写的“<a rel=\"nofollow\" target=\"_blank\" href=\"http://blog.newchen.com/post/1376\" title=\"用GAE来搭建自己专用的翻҉墙҉代҉理҉\">用GAE来搭建自己专用的翻҉墙҉代҉理҉</a><span> </span>”的开头部分一样。</p>\n<p>注册好Google Appengine，得到了 xxx.appspot.com 的域名后，下面就正式开始搭建这个Twitter API了。</p>\n<p><img alt=\"\" height=\"400\" src=\"http://67.195.19.74/4152/4951301446_ef95597f47.jpg\" title=\"Twitter API\" width=\"500\" /></p>\n<p>首先需要先<strong>翻墙访问</strong>：<a rel=\"nofollow\" target=\"_blank\" href=\"http://dev.twitter.com/\">http://dev.twitter.com</a>。然后注册一个新的App（如上图）。</p>\n<p><img alt=\"\" height=\"629\" src=\"http://67.195.19.74/4105/4950708921_477bf2187e_z.jpg\" title=\"Twitter API\" width=\"500\" /></p>\n<p>注册时所填的表单，名称，说明，和网址，都可以随便写自己喜欢的。但<strong>一定要注意上图中红线圈起来的部分</strong>，也就是 Application，Callback URL，Default Access type，这三处。<span>Application Type<span> </span></span>要选择“<span>Browser</span>”，<span>Callback URL</span>地址要填写“<span>http://gtap.appspot.com/oauth/verify</span>”，<span>Default Access type</span><span> </span>要选择“<span>Read &#038; Write</span>”。</p>\n<p><img alt=\"\" height=\"520\" src=\"http://67.195.19.74/4108/4950708961_3cf3b764f3_z.jpg\" title=\"Twitter API\" width=\"500\" /></p>\n<p>成功注册了App后，会返回一个包含各种信息的页面，其中包含接下来需要用到的<span> </span><strong>Consumer key</strong><span> </span>和<strong>Consumer secret</strong>。将此页面暂时保留。</p>\n<p><img alt=\"\" height=\"440\" src=\"http://67.195.19.74/4087/4951301678_0e8edcfc0b.jpg\" title=\"Twitter API\" width=\"500\" /></p>\n<p>接下来，<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.newchen.com/downloads/gtap.7z\"><strong>点击这里下载Gtap</strong></a>，然后解压到本地硬盘中。进入gtap的文件夹，用你习惯的记事本工具打开 main.py 文件，然后修改 14，15行的<span> </span><strong>CONSUMER_KEY</strong><span> </span>和<span> </span><strong>CONSUMER_SECRET</strong>（如上图），将图中“<span>小明同学的KEY</span>”替换成你刚刚在Twitter申请到的<span><span> </span>Consumer key</span>，把“<span>小明同学的密钥</span>”替换成你的<span> </span><span>Consumer secret</span>。然后保存。</p>\n<p><img alt=\"\" height=\"370\" src=\"http://67.195.19.74/4140/4951301602_81e38e3f8d.jpg\" title=\"Twitter API\" width=\"500\" /></p>\n<p>接下来，打开 app.yaml，修改第一行，将上图中“小明同学的程序名”替换成你在Google Appengine新申请到的名称。如果你不是在我这里下载的gtap，那么还需要确认上图中，最后一行<span> </span><span>secure</span><span> </span>那里是“<span>optional</span>”。确认无误后，保存并关闭。</p>\n<p><img alt=\"\" height=\"214\" src=\"http://67.195.19.74/4113/4950709217_2f8dff9564.jpg\" title=\"Twitter API\" width=\"500\" /></p>\n<p>程序已经准备完毕，下面运行 Google App Engine Launcher 来讲程序上传到GAE。点击“File – Add Existing Application…”添加程序目录。</p>\n<p>注意一点，<strong>这个无法通过SDUpload这个第三方的上传工具上传</strong>。。。很残念。。。如果你没有安装过Google App Engine的客户端，那么需要先<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.python.org/download/\">下载并安装Python2.7</a>（可能被墙，请随时翻墙下载），然后在<a rel=\"nofollow\" target=\"_blank\" href=\"http://code.google.com/intl/zh-CN/appengine/downloads.html\">下载安装Google App Engine</a>即可。</p>\n<p><img alt=\"\" height=\"350\" src=\"http://67.195.19.74/4086/4950709113_1ddab45252.jpg\" title=\"Twitter API\" width=\"500\" /></p>\n<p>在Google App Engine Launcher中添加好程序后，点击工具栏的“Deploy”，之后会弹出一个窗口，输入你的Google帐号和密码开始上传。</p>\n<p><img alt=\"\" height=\"398\" src=\"http://67.195.19.74/4087/4951301764_69199014d5.jpg\" title=\"Twitter API\" width=\"500\" /></p>\n<p>上传时的提示窗口是这个样子的。。。你不需要等待很长时间，当你看到窗口中提示你“You can close this window now.”的字样时，就可以关闭Google App Engine Launcher了。这时你已经完成了全部工作。接下来就是如何使用这个API了。。。</p>\n<p><strong><span>&#8211; 使用部分 &#8211;</span></strong></p>\n<p><img alt=\"\" height=\"264\" src=\"http://67.195.19.74/4150/4950709317_a11c4719a0.jpg\" title=\"Twitter API\" width=\"500\" /></p>\n<p>API已经搭建好了，你可以<strong>翻墙点击</strong>上图中的“Sing in with Twitter”按钮，验证一下后自己一个人使用，也把你申请的 xxx.appspot.com 这个地址发给你的好友，他们只需要经过一步简单的验证就可以使用了。</p>\n<p><span>※验证的过程中，需要开启代理，并先登录Twitter的网站。</span></p>\n<p><img alt=\"\" height=\"450\" src=\"http://67.195.19.74/4149/4951301948_9be219ed11.jpg\" title=\"Twitter API\" width=\"500\" /></p>\n<p>点击“Sign in with Twitter”链接后，会跳转到Twitter的API验证页面（如上图），点击“Allow”按钮，同意应用程序访问你的帐户。</p>\n<p><img alt=\"\" height=\"280\" src=\"http://67.195.19.74/4120/4950709379_93e1abbaa3.jpg\" title=\"Twitter API\" width=\"500\" /></p>\n<p>接着，Twitter的API页面验证完毕后，会再次跳转会你的 xxx.appspot.com 的页面，并给你一个表格（如上图），上面显示的是你Twitter的用户名，密钥。在“<span>the new key</span>”的栏中，填入你要修改的新的密钥。可以填写你的Twitter密码（但不推荐），一般随便填一个你能记住的单词，网址，邮箱。。。就可以。这个密钥相当于你通过这个API来链接Twitter的一个验证密码。</p>\n<p><img alt=\"\" height=\"480\" src=\"http://67.195.19.74/4106/4951302010_bd328f8a96.jpg\" title=\"Twitter API\" width=\"500\" /></p>\n<p>一切已经准备就绪，接下来使用那些支持API的客户端来登录你的Twitter就可以了。。。</p>\n<p>因为我这里的客户端有限（平时我都是用Chrome的扩展来上推的），只测试了 TweetDeck和Spaz两个桌面客户端，非常好用，速度很快。</p>\n<p>以TweetDeck的设置来举例，进入软件的选项，然后在“Accounts”中，添加或修改你的Twitter帐户，点击“Advanced Options”，输入你的API地址，也就是 “http://xxx.appspot.com/”。千万记得最后的斜杠“/”别忘了。。。呵呵。。。然后在上面填上你的Twitter用户名，和。。。<span>不是你Twitter的密码哦</span>。。。呵呵。。。 这里的密码<span>要填刚刚上面让你修改的那个API的密钥</span>，就是让你随便改成单词，网址，或邮箱的那个API的密钥。然后保存。。。</p>\n<p>现在开始。。。你不需要翻墙，也可以用这些支持API的客户端来上推和发推了。。。呵呵。。。：）</p>\n<p>已经测试过没任何问题的客户端有：TweetDeck，Spaz，以及Chrome浏览器的推特扩展 Chrowety。</p>\n<p>已知目前无法使用这个API的客户端有：Chrome浏览器的推特扩展 Chrome bird。（这个可以用Chrowety替换，经过长时间的测试，Chrowety现在比以前稳定多了，几乎不再出现发推出囧的BUG了。）</p>\n<p>最后，附上一张通过个性化API发推的效果截图：</p>\n<p><img alt=\"\" height=\"570\" src=\"http://67.195.19.74/4104/4951186587_887fc96ce9_z.jpg\" title=\"Twitter API\" width=\"390\" /></p>\n<p>至此，整个流程讲解完毕。。。 如果还有疑问，可以在下方留言。</p>\n<p>如果讲解到这个程度还是无法搭建。。。 我也可以把此教程中搭建的API共享出来给大家使用。。。 但出于种种不可抗拒原因，我不会公开发布。如果需要，请到Twitter上DM找我要（Twitter：@newChen）。（同样出于种种不可抗拒原因，Follower的数量太少的，即使DM我，可能我也不会回复的。。。抱歉。。。）</p>\n<p>最后附上一个小段子，小娱乐一下。。。</p>\n<p>高官：小姑娘，你得小心点！我可是有后台的人！</p>\n<p>姑娘：你一样也得小心点哦，我可是有Twitter的人。</p>\n<p>高官：(“▔□▔)</p>\n<p>姑娘：╮(￣▽￣”)╭</p>\n<p>全文完。</p>\n<p>&#8211; 以上 &#8211;</p>\n<p><span>—————— by：热心于推广翻҉墙҉和推҉特҉的 夜の猫</span></p>\n<p>  <a rel=\"nofollow\" target=\"_blank\" href=\"http://feeds.wordpress.com/1.0/gocomments/xijie.wordpress.com/5260/\"><img alt=\"\" border=\"0\" src=\"http://feeds.wordpress.com/1.0/comments/xijie.wordpress.com/5260/\" /></a> <a rel=\"nofollow\" target=\"_blank\" href=\"http://feeds.wordpress.com/1.0/godelicious/xijie.wordpress.com/5260/\"><img alt=\"\" border=\"0\" src=\"http://feeds.wordpress.com/1.0/delicious/xijie.wordpress.com/5260/\" /></a> <a rel=\"nofollow\" target=\"_blank\" href=\"http://feeds.wordpress.com/1.0/gofacebook/xijie.wordpress.com/5260/\"><img alt=\"\" border=\"0\" src=\"http://feeds.wordpress.com/1.0/facebook/xijie.wordpress.com/5260/\" /></a> <a rel=\"nofollow\" target=\"_blank\" href=\"http://feeds.wordpress.com/1.0/gotwitter/xijie.wordpress.com/5260/\"><img alt=\"\" border=\"0\" src=\"http://feeds.wordpress.com/1.0/twitter/xijie.wordpress.com/5260/\" /></a> <a rel=\"nofollow\" target=\"_blank\" href=\"http://feeds.wordpress.com/1.0/gostumble/xijie.wordpress.com/5260/\"><img alt=\"\" border=\"0\" src=\"http://feeds.wordpress.com/1.0/stumble/xijie.wordpress.com/5260/\" /></a> <a rel=\"nofollow\" target=\"_blank\" href=\"http://feeds.wordpress.com/1.0/godigg/xijie.wordpress.com/5260/\"><img alt=\"\" border=\"0\" src=\"http://feeds.wordpress.com/1.0/digg/xijie.wordpress.com/5260/\" /></a> <a rel=\"nofollow\" target=\"_blank\" href=\"http://feeds.wordpress.com/1.0/goreddit/xijie.wordpress.com/5260/\"><img alt=\"\" border=\"0\" src=\"http://feeds.wordpress.com/1.0/reddit/xijie.wordpress.com/5260/\" /></a> <img alt=\"\" border=\"0\" height=\"1\" src=\"http://stats.wordpress.com/b.gif?host=xijie.wordpress.com&#038;blog=10068099&#038;post=5260&#038;subd=xijie&#038;ref=&#038;feed=1\" width=\"1\" /></p>\n<p><img src=\"http://chinadigitaltimes.net/chinese/files/2011/10/075e35c6ef95597f47.jpg-150x150.jpg\" /></p>\n<p><small>本文由自动聚合程序取自网络，内容和观点不代表数字时代立场</small></p>\n<form method=\"POST\" action=\"http://www.feedblitz.com/f/f.fbz?AddNewUserDirect\">\n定期获得翻墙信息？<a href=\"http://www.feedblitz.com/f/?Sub=738338\">请电邮订阅数字时代</a> <br /><input name=\"EMAIL\" maxlength=\"64\" type=\"text\" size=\"25\" value=\"\"><br />\n<input name=\"FEEDID\" type=\"hidden\" value=\"738338\"><br />\n<input name=\"PUBLISHER\" type=\"hidden\" value=\"7485568\"><br />\n<input type=\"submit\" value=\"订阅!\"><br />\n</form>\n","author":983,"categories":[15300],"tags":[8817]}