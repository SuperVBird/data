{"id":54466,"link":"https://chinadigitaltimes.net/chinese/2010/03/暂缓迷恋-cassandra/","date":"2010-03-29T21:32:48Z","modified":"2010-03-29T21:32:48Z","title":"暂缓迷恋 Cassandra","content":"<p> 作者：<a href=\"http://www.dbanotes.net\">Fenng</a> 发布在 <a href=\"http://www.dbanotes.net/\">dbanotes.net</a>. <a href=\"http://www.dbanotes.net/index.xml\"><img alt=\"BLOG 墙外订阅数量,点击则可进行订阅\" src=\"http://www.dbanotes.net/feed.gif\" style=\"border:0pt none\"></a></p>\n<p>最近 Twitter 和 Digg 的技术团队都放出话来说要从 Mysql + Memcached 的组合迁移到 <a href=\"http://incubator.apache.org/cassandra/\">Cassandra</a> 环境（Refer <a href=\"http://about.digg.com/node/564\">1</a>、<a href=\"http://engineering.twitter.com/2010/02/link-cassandra-at-twitter.html\">2</a>)，这些消息又会让不少人跃跃欲试，恨不得也把自家网站迁移到 Cassandra 下面过把瘾，我相信有些公司的团队又要言必称 Cassandra 了。</p>\n<p>Twitter 和 Digg 对数据存储引擎的需求相当独特：<strong>写操作密集，基本无修改需求，读操作则多数是分散多次读取汇总展示</strong>(想象一下你 Twitter页面上同时显示好友们的 Tweet 内容)。对 MySQL 来说，Sharding 后几乎是被当作简单的存储引擎来用的，即使是加上 Memcached ，对数据读取开销相当大(<a href=\"http://about.digg.com/blog/looking-future-cassandra\">Refer</a>)，因为这时候即使是最合理用索引，I/O开销也不是最优的&#8211;走的是索引范围扫描嘛。Cassandra 则相当于预存了计算结果，这要得益于其 Flexible schema 特性，按照既定规则写入，读取直接取预排序的范围键值结果(这其实是偏 OLAP 的应用，而非 OLTP)。</p>\n<p>Twitter 和 Digg 这两家网站的数据结构其实并不复杂，尤其是 Twitter ，相当的简约（当然并不简单）。或许有人说，把 Cassandra 开源的 Facebook 不也在用呢吗 ? Facebook 数据结构不复杂么？没错，Facebook 数据结构很复杂，不过使用 Cassandra 的场景其实和 Twitter / Digg 几乎一致的&#8212;只是用在 inbox 这个地方的数据处理而已。</p>\n<p>不要迷恋 Cassandra ，如果应用场景不合适，那么对你来说永远都只是个传说。。</p>\n<p>&#8211;EOF&#8211;</p>\n</p>\n<hr>\n<p><strong>最近文章|Recent Articles</strong></p>\n<ul>\n<li><a href=\"http://www.dbanotes.net/review/iphone_ipad_flash.html\">苹果为何不在 iPhone、iPad 平台支持 Flash</a></li>\n<li><a href=\"http://www.dbanotes.net/review/revolution_in_the_valley.html\">苹果往事</a></li>\n<li><a href=\"http://www.dbanotes.net/mylife/happy_tiger_year.html\">虎年快乐！</a></li>\n<li><a href=\"http://www.dbanotes.net/review/cmbc_crash.html\">民生银行的系统事故</a></li>\n</ul>\n<p>本站赞助商：<a href=\"http://www.douban.com/\">豆瓣网</a></p>\n<p><strong> 评论数(3)|<a href=\"http://www.dbanotes.net/arch/cassandra_myth.html#comments\" title=\"Comment on: 暂缓迷恋 Cassandra   \">添加评论</a></strong> | 最近作者还说了什么? Follow <a href=\"http://www.twitter.com/fenng\">Fenng@Twitter</a><br />本文网址：<a href=\"http://www.dbanotes.net/arch/cassandra_myth.html\">http://www.dbanotes.net/arch/cassandra_myth.html</a></p>\n<p>DBA Notes 理念: 用简约的技术取得最大的收益&#8230;</p>\n<div name=\"ClickComments\"></div>\n<div>\n<a href=\"http://feeds.feedburner.com/~ff/webarch?a=1ULEn52wJFM:bjZhWW6UX20:yIl2AUoC8zA\"><img border=\"0\" src=\"http://feeds.feedburner.com/~ff/webarch?d=yIl2AUoC8zA\"></a> <a href=\"http://feeds.feedburner.com/~ff/webarch?a=1ULEn52wJFM:bjZhWW6UX20:qj6IDK7rITs\"><img border=\"0\" src=\"http://feeds.feedburner.com/~ff/webarch?d=qj6IDK7rITs\"></a> <a href=\"http://feeds.feedburner.com/~ff/webarch?a=1ULEn52wJFM:bjZhWW6UX20:F7zBnMyn0Lo\"><img border=\"0\" src=\"http://feeds.feedburner.com/~ff/webarch?i=1ULEn52wJFM:bjZhWW6UX20:F7zBnMyn0Lo\"></a> <a href=\"http://feeds.feedburner.com/~ff/webarch?a=1ULEn52wJFM:bjZhWW6UX20:V_sGLiPBpWU\"><img border=\"0\" src=\"http://feeds.feedburner.com/~ff/webarch?i=1ULEn52wJFM:bjZhWW6UX20:V_sGLiPBpWU\"></a> <a href=\"http://feeds.feedburner.com/~ff/webarch?a=1ULEn52wJFM:bjZhWW6UX20:mqyYa2mfVbY\"><img border=\"0\" src=\"http://feeds.feedburner.com/~ff/webarch?d=mqyYa2mfVbY\"></a> <a href=\"http://feeds.feedburner.com/~ff/webarch?a=1ULEn52wJFM:bjZhWW6UX20:I9og5sOYxJI\"><img border=\"0\" src=\"http://feeds.feedburner.com/~ff/webarch?d=I9og5sOYxJI\"></a> <a href=\"http://feeds.feedburner.com/~ff/webarch?a=1ULEn52wJFM:bjZhWW6UX20:bcOpcFrp8Mo\"><img border=\"0\" src=\"http://feeds.feedburner.com/~ff/webarch?d=bcOpcFrp8Mo\"></a>\n</div>\n","author":176,"categories":[20534],"tags":[5644,8339]}