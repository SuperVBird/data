{"id":139124,"link":"https://chinadigitaltimes.net/chinese/2011/03/ipad上使用ssh去那墙外之地的方法/","date":"2011-03-08T12:20:45Z","modified":"2011-03-08T12:20:45Z","title":"ipad上使用SSH去那墙外之地的方法","content":"<p>来源：<a href=\"http://sevenseven.info/?p=281\">http://sevenseven.info/?p=281</a></p>\n<p><img alt=\"\" height=\"60\" src=\"http://1.gravatar.com/avatar/305c0897ef28f3b9edf0096ec6333542?s=60&#038;d=http%3A%2F%2Fsevenseven.info%2Fwp-includes%2Fimages%2Fblank.gif&#038;r=G\" width=\"60\" /> \t\t\t\t</p>\n<p>由于众所周知的原因，天朝人民上个网总是那么的需要技术含量，生生让一堆人憋成技术宅。</p>\n<p>首先感谢一下无私帮助我的 @<a href=\"http://twitdao.appspot.com/t/yak007\">yak007</a> ，通过Gmail解答帮助以及给我了重要的pac文件，谢谢！</p>\n<p>好了废话不多说，生命在于折腾，于是当我在twitter（注：这个世界上排名前5的网站在天朝是不存在的，是我虚构的！）上看到有如何用SSH在 ipad上实现翻墙的技术贴，我就开始了折腾。另外，再罗嗦一句，有人问ipad不是能用VPN翻墙么，何况这么苦憋的折腾？好吧……上面已经回答了，生 命在于折腾，而且多一个梯子有什么不好？！</p>\n<p>以下是步骤，虽然我想尽可能写的风趣生动些，然则这过程根本就一点都不风趣生动。</p>\n<p>ipad必须越狱（这是废话）</p>\n<p>电脑上的准备工作：</p>\n<p>（1）    安装一个电脑能之间访问ipad的软件，我用的是iphone folder，有了它就能在电脑上像访问一个文件夹一样直接访问ipad里面的目录，这也是为了方便。</p>\n<p><a href=\"http://sevenseven.info/wp-content/uploads/2011/03/ScreenShot001.jpg\"><img alt=\"\" height=\"405\" src=\"http://sevenseven.info/wp-content/uploads/2011/03/ScreenShot001.jpg\" width=\"262\" /></a></p>\n<p>（2）    一个文本编辑器，我用的是Ultraedit，用自己喜欢的吧。</p>\n<p>（3）    找到我这篇blog，嗯……</p>\n<p>（4）    下载我这里的这个文件gfwlist.pac</p>\n<p><a href=\"http://dl.dbank.com/c06qgz5cc4\">http://dl.dbank.com/c06qgz5cc4</a></p>\n<p>越狱以后ipad上的准备工作，基本上都是在cydia各种源里面能找到的东西，找到并安装这些东西我想对会越狱的你不是什么难事：</p>\n<p>（1）    安装ifile，这个东西就像是windows里面的资源管理器，没有它…诸多不便。</p>\n<p>（2）    安装icabMobile这个浏览器，为啥要用这个浏览器，后面有说明。</p>\n<p>（3）    安装MobileTerminal，这个是用来登录服务器的客户端。</p>\n<p>（4）    安装openssh，这里要说的是cydia上只有for ios 3.X的版本，不过呢在ios 4.2.1下也一样能用，别担心，照装吧。</p>\n<p>（5）    安装Backgrounder，由于ipad所为的多任务是“假的”，需要一个能让MobileTerminal在后台也能“真正”运行的东西，就是这玩意了。</p>\n<p> </p>\n<p>完事具备，把你的ipad接上电脑，用iphone folder找到它，然后……开始了开始了！</p>\n<p>（1）    先找到ipad上的：<strong>/private/var/preferences/systemconfiguration </strong>目录，把里面的<strong>preferences.plist</strong>找到，并将这个重要的文件复制到电脑上备份好，然后复制一个用文本编辑器进行修改。</p>\n<p><a href=\"http://sevenseven.info/wp-content/uploads/2011/03/IMG_0034.jpg\"><img alt=\"\" height=\"408\" src=\"http://sevenseven.info/wp-content/uploads/2011/03/IMG_0034.jpg\" width=\"546\" /></a></p>\n<p>（2）    用文本编辑器打开preferences.plist，找到以下原始的内容：</p>\n<p><span><strong><string>com.apple.CommCenter (ip1)</string></strong></span></p>\n<p><span><strong></dict></strong></span></p>\n<p><span><strong><key>UserDefinedName</key></strong></span></p>\n<p><string>com.apple.CommCenter (ip1)</string></p>\n<p><key>com.apple.CommCenter</key></p>\n<p> </p>\n<p>好了，注意红色部分，在<strong></dict></strong><strong>之后和<key>UserDefinedName</key></strong></p>\n<p><strong>之前插入以下代码：</strong></p>\n<p><key>Proxies</key><br /> <dict><br /> <key>ProxyAutoConfigEnable</key><br /> <integer>1</integer><br /> <key>ProxyAutoConfigURLString</key><br /> <strong><string>file:///</strong><strong>你的pac文件位置</string></strong><strong><br /> </strong></dict></p>\n<p> </p>\n<p>这是修改后的样子：</p>\n<p><strong><string>com.apple.CommCenter (ip1)</string></strong></p>\n<p><strong></dict></strong></p>\n<p><key>Proxies</key><br /> <dict><br /> <key>ProxyAutoConfigEnable</key><br /> <integer>1</integer><br /> <key>ProxyAutoConfigURLString</key><br /> <strong><string>file:///</strong><strong>你的pac文件位置</string></strong><strong><br /> </strong></dict></p>\n<p><strong><key>UserDefinedName</key></strong></p>\n<p><string>com.apple.CommCenter (ip1)</string></p>\n<p><key>com.apple.CommCenter</key></p>\n<p> </p>\n<p>注意千万不要搞错位置，写错地方的话ipad重启以后这段代码会消失。这里要说明的是：<strong><string>file:///</strong><strong>你的pac文件位置</string></strong></p>\n<p><strong>如果你不太明白，请照这行写：</strong></p>\n<p><strong><string>file:///private/var/mobile/Documents/gfwlist.pac</string></strong></p>\n<p><strong><a href=\"http://sevenseven.info/wp-content/uploads/2011/03/IMG_0035.jpg\"><img alt=\"\" height=\"222\" src=\"http://sevenseven.info/wp-content/uploads/2011/03/IMG_0035.jpg\" width=\"507\" /></a><br />  </strong></p>\n<p><strong> </strong></p>\n<p>（3）    把修改好的preferences.plist复制回ipad里面覆盖原有的文件。</p>\n<p>（4）    把下载的gfwlist.pac放入ipad的：<strong>private/var/mobile/Documents</strong>目录下面。</p>\n<p>好了，如果你确实没有做错任何一步写错任何一行，那么电脑上的工作就结束。</p>\n<p><span>注意：每次修改preferences.plist内容和pac文件位置后，要重启ipad才能生效。</span></p>\n<p>Ipad上的工作开始了：</p>\n<p>（1）用backgrounder设置MobileTerminal能在“真”后台运行，关于这玩意还是很折腾的，我只用截图简单讲一下，运行 backgrounder以后，按overrides，然后add把MobileTerminal加进去。点右边的箭头进入设置，按图上画的红圈设置好。 注意：更改设置退出backgrounder后都会自动重启ipad以便生效。</p>\n<p><a href=\"http://sevenseven.info/wp-content/uploads/2011/03/IMG_0037.jpg\"><img alt=\"\" height=\"241\" src=\"http://sevenseven.info/wp-content/uploads/2011/03/IMG_0037.jpg\" width=\"545\" /></a><a href=\"http://sevenseven.info/wp-content/uploads/2011/03/IMG_0038.jpg\"><img alt=\"\" height=\"514\" src=\"http://sevenseven.info/wp-content/uploads/2011/03/IMG_0038.jpg\" width=\"561\" /></a></p>\n<p>（2）设置好了backgrounder重启过后，先运行它，然后运行MobileTerminal，然后回到dos时代开始复习命令行，注意大小写：</p>\n<p>ssh –p 443 –D 1080 用户名@服务器地址</p>\n<p>解释一下：</p>\n<p>-p 433 就是服务器用的端口，我这里是443。</p>\n<p>-D 1080 就是本地的代理端口，要和pac文件里面对应，我的pac文件里面就是1080，所以照搬即可，想要自己改的同学请自行研究pac文件。</p>\n<p>用户名@服务器地址，这不用解释了吧，用户名和服务器的域名或者ip。SSH服务器自己买一个吧，免费的不靠谱呢。</p>\n<p>命令行打完后输入密码，输入的时候是看不到的，看着软键盘别打错就ok。然后可以看到如图所示的，已经登陆上去了。</p>\n<p><a href=\"http://sevenseven.info/wp-content/uploads/2011/03/IMG_0032.jpg\"><img alt=\"\" height=\"103\" src=\"http://sevenseven.info/wp-content/uploads/2011/03/IMG_0032.jpg\" width=\"410\" /></a></p>\n<p>按home回到ipad主界面，这个时候backgrounder和MobileTerminal全都在后台运行，不放心的话可以切回去检查下，特别是看看MobileTerminal还动不动（随便用个ls命令什么的），如果还会动，说明后台运行已经成功了。</p>\n<p>还等什么！打开你的icabMobile！为啥不用自带的safari呢，据我试验这个玩意太弱了，哪怕你上面做的全都对，它就是不行，估计是不能 用sock代理！你看……扔了它吧。打开我虚构的那个网站<a href=\"http://twitter.com\">twitter.com</a>，或者另外一个虚构的网站<a href=\"http://youtube.com\">youtube.com</a>看看，当然也可以尝试一 些客户端比如twitter的官方客户端。</p>\n<p>恭喜你，welcome to the world without wall！</p>\n<p><span>后记：使用完之后，先切换到MobileTerminal，打logout命令退出，然后再关闭MobileTerminal。</span></p>\n<p><span>后记2：经过@<a href=\"http://twitdao.appspot.com/t/aleclu\">aleclu</a>的提醒，其实在3g下完全可以不用backgrounder，运行完MobileTerminal，哪怕这两个全部退出，一样可以持续的SSH翻墙。直到切换到wifi或者让ipad休眠，经试验的确是这样。</span></p>\n<p><a href=\"http://sevenseven.info/wp-content/uploads/2011/03/IMG_0033.jpg\"><img alt=\"\" height=\"215\" src=\"http://sevenseven.info/wp-content/uploads/2011/03/IMG_0033.jpg\" width=\"480\" /></a></p>\n<p></p>\n<h4>—————————————————————————————————————————</h4>\n<h4>需要翻墙利器赛风? 请<a href=\"https://www.google.com/profiles/112915952962578336480\">阅读和关注中国数字时代</a>。</p>\n<p>推特用户请点击<a href=\"http://qinzhigang.in/login.php\">这里</a>免翻墙上推特</h4>\n<p>请点击<a href=\"https://sesawe.net/-Tools-zh-.html\">这里</a>下载翻墙软件 </p>\n<p>更多翻墙方法请发电邮(最好用Gmail)到：<a href=\"mailto:fanqiang70ma@gmail.com\">fanqiang70ma@gmail.com</a>  </p>\n<p>请阅读和关注<a href=\"https://www.google.com/profiles/112915952962578336480\">中国数字时代</a>、<small>翻墙技术博客<a href=\"https://www.google.com/profiles/chinagfwblog\">GFW BLOG</a>（免翻墙） <br /> </small></p>\n<p>请使用<a href=\"https://www.google.com/reader/view/\">Google Reader</a><a href=\"https://www.google.com/reader/view/feed/http://chinadigitaltimes.net/chinese/feed\">订阅中国数字时代中文版</a>（<a href=\"http://chinadigitaltimes.net/chinese/feed\">http://chinadigitaltimes.net/chinese/feed</a>），阅读最有价值的中文信息；以及<a href=\"https://www.google.com/reader/view/feed/http://feeds2.feedburner.com/chinagfwblog\">GFW BLOG（功夫网与翻墙）</a><a href=\"http://feeds2.feedburner.com/chinagfwblog\">http://feeds2.feedburner.com/chinagfwblog</a>，获取最新翻墙工具和翻墙技巧信息。</p>\n<p> </p>\n<div><img alt=\"\" height=\"1\" src=\"https://blogger.googleusercontent.com/tracker/5500297126185736776-3141777636893091560?l=www.chinagfw.org\" width=\"1\" /></div>\n<p><img height=\"1\" src=\"http://feeds.feedburner.com/~r/chinagfwblog/~4/Z4mIcECO0aE\" width=\"1\" /></p>\n<p><img src=\"http://sevenseven.info/wp-content/uploads/2011/03/ScreenShot001.jpg\" /></p>\n<p><b>要翻墙？(发邮件到Gmail):ziyouhulianwangATgmail.com</b></p>\n","author":139,"categories":[15300],"tags":[8510,3764,8795,8800]}