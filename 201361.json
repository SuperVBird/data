{"id":201361,"link":"https://chinadigitaltimes.net/chinese/2011/12/翻墙-dns劫持与污染/","date":"2011-12-10T19:01:14Z","modified":"2012-01-23T05:16:28Z","title":"翻墙 | DNS劫持与污染","content":"<p>原文：<a rel=\"nofollow\" target=\"_blank\" href=\"http://bianwenbo.tk/2011/11/22/dns%E6%B1%A1%E6%9F%93/?utm_source=rss&#038;utm_medium=rss&#038;utm_campaign=dns%25e6%25b1%25a1%25e6%259f%2593\">http://bianwenbo.tk/2011/11/22/dns%e6%b1%a1%e6%9f%93/?utm_source=rss&#038;utm_medium=rss&#038;utm_campaign=dns%25e6%25b1%25a1%25e6%259f%2593</a></p>\n<div>\n<p align=\"left\"><span><strong>Attention</strong></span>: 域名解析的基本原理就是把域名翻译成IP地址，阅读以下文章前请进一步了解何为<a rel=\"nofollow\" target=\"_blank\" href=\"http://zh.wikipedia.org/wiki/Dns\" title=\"wiki中文百科中的DNS\">DNS</a>。</p>\n<p align=\"left\">――――――――――――――――邪恶的分割线――――――――――――――――</p>\n<p align=\"left\"><strong>DNS劫持</strong></p>\n<p align=\"left\"><strong></strong>　　DNS劫持的数据包是在路由器上，对请求返回假的IP地址（访问的是假网址）或者什么都不做使请求失去响应（网络不能反应）。</p>\n<p align=\"left\"><strong>解决DNS劫持的方法：</strong></p>\n<p align=\"left\">　　在Interner协议（TCP/IP）的属性页里，选择&#8221;使用下面的DNS服务器地址&#8221;，首选和备用DNS服务器分别设置为<strong><span>8.8.8.8和8.8.4.4</span></strong>（<a rel=\"nofollow\" target=\"_blank\" href=\"http://zh.wikipedia.org/wiki/Google_Public_DNS\" title=\"Google Public DNS\">Google Public DNS</a>），完成后重新连接上网。</p>\n<p align=\"left\">　　原理是由于域名劫持往往只能在特定的被劫持的网络范围内进行，所以在此范围外的域名服务器(DNS)能够返回正常的IP地址。但是由此引出了域名劫持通常相伴的措施――封锁正常DNS的IP。[<a rel=\"nofollow\" target=\"_blank\" href=\"http://zh.wikipedia.org/wiki/Google_Public_DNS#.E8.A2.AB.E9.98.B2.E7.81.AB.E9.95.BF.E5.9F.8E.E5.B9.B2.E6.89.B0\" title=\"参考原因\">中国大陆境内的客户端不一定能获得正确的解析结果</a>]</p>\n<p align=\"left\"><strong>DNS</strong><strong>污染（DNS cache poisoning/pollution）</strong><strong></strong></p>\n</p></div>\n<div>\n<p align=\"left\">　　DNS污染的数据包是在路由器旁路产生的，故无法阻止正确的DNS解析结果返回。但由于旁路产生的数据包发回的速度较国外DNS服务器发回的快，操作系统认为第一个收到的数据包就是返回结果，从而忽略其后收到的数据包。<strong></strong></p>\n<p align=\"left\"><strong>验证</strong><strong>DNS</strong><strong>污染的办法</strong></p>\n<div>\n<p align=\"left\">　　我们在命令行下通过这样一条命令 nslookup 域名<span><strong> 144.223.234.234</strong></span>，即可判断该域名是否被污染。由于144.223.234.234不存在，理应没有任何返回，但如果我们却得到了一个错误的IP（不确定），即可证明这个域名已经被DNS污染了。</p>\n</p></div>\n</p></div>\n<div>\n<p align=\"left\"><strong>解决<strong>DNS</strong><strong>污染</strong>方案</strong><strong></strong></p>\n</p></div>\n<p align=\"left\">　　1、修改<a rel=\"nofollow\" target=\"_blank\" href=\"http://zh.wikipedia.org/wiki/Hosts\" title=\"wiki中文百科中的hosts文件\">hosts文件</a>，操作系统中Hosts文件的优先级高于DNS服务器，操作系统在访问某个域名时，会先检测HOSTS文件，然后再查询DNS服务器。可以在hosts添加受到污染的DNS地址来解决DNS污染和DNS劫持。</p>\n<p align=\"left\">　　2、如果你是Firefox only用户，并且只用Firefox，又懒得折腾，直接打开Firefox的远程DNS解析就行了。在地址栏中输入about:config找到network.proxy.socks_remote_dns一项改成true。</p>\n<p align=\"left\">　　3、使用各种SSH加密代理，在加密代理里进行远程DNS解析，或者使用VPN上网。</p>\n<p align=\"left\">　　4、通过一些软件编程处理，可以直接忽略返回结果是虚假IP地址的数据包，直接解决DNS污染的问题。</p>\n<p> </p>\n<div>翻越防火长城，你可以到达世界上的每一个角落。（Across the Great Firewall, you can reach every corner in the world.）翻墙利器赛风3下载地址：<a rel=\"nofollow\" target=\"_blank\" href=\"http://dld.bz/caonima326\"> http://dld.bz/caonima326</p>\n<p></a>，<a rel=\"nofollow\" target=\"_blank\" href=\"http://dld.bz/caonima745/\">http://dld.bz/caonima745/</a><img alt=\"\" height=\"1\" src=\"https://blogger.googleusercontent.com/tracker/5500297126185736776-332298390965390612?l=www.chinagfw.org\" width=\"1\" /></div>\n<p><img height=\"1\" src=\"http://feeds.feedburner.com/~r/ChinaGfw/~4/OEfCuLe_iXw\" width=\"1\" /></p>\n<p><small>本文由自动聚合程序取自网络，内容和观点不代表数字时代立场</small></p>\n<form method=\"POST\" action=\"http://www.feedblitz.com/f/f.fbz?AddNewUserDirect\">\n定期获得翻墙信息？<a href=\"http://www.feedblitz.com/f/?Sub=750556\">请电邮订阅数字时代</a> <br /><input name=\"EMAIL\" maxlength=\"64\" type=\"text\" size=\"25\" value=\"\"><br />\n<input name=\"FEEDID\" type=\"hidden\" value=\"750556\"><br />\n<input name=\"PUBLISHER\" type=\"hidden\" value=\"7485568\"><br />\n<input type=\"submit\" value=\"订阅!\"><br />\n</form>\n","author":983,"categories":[15300],"tags":[8510,9419,8795,8800,8817]}