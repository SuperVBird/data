{"id":135232,"link":"https://chinadigitaltimes.net/chinese/2011/02/在media-temple上搭建tw2other/","date":"2011-02-09T08:42:44Z","modified":"2011-02-09T08:42:44Z","title":"在Media Temple上搭建tw2other","content":"<p><p>来源：<a href=\"http://ello.im/archives/1066\">http://ello.im/archives/1066</a></p>\n<p>这个软件可以自动同步twitter到嘀咕、新浪微博、做啥、follow5、9911、豆瓣广播、鲜果联播、人间网、人人网、网易微博、饭否。需 要搭建在自己的主机上。网上的教程有好多了，但是基本都是搭建在虚拟主机的epanel上的，而media temple 用的是自己的后台程序，所以略有不同。</p>\n<p>前几天自己搭建的时候遇到了一点麻烦，所以再写一个教程，简单介绍一下media Temaple的搭建。其中参考了 <a href=\"http://zhenghanqiu.blogspot.com/2010/12/using-tw2other-to-synchronize-twitter.html\">http://zhenghanqiu.blogspot.com/2010/12/using-tw2other-to-synchronize-twitter.html </a>教程。</p>\n<p>作者的博客是：<a href=\"http://cuies.com/\">http://cuies.com/</a>，项目主页是：<a href=\"http://code.google.com/p/tw2ohter/\">http://code.google.com/p/tw2ohter/</a>，另有作者写的教程：<a href=\"http://cuies.com/post/tutorial-for-tw2other-and-cpanel-cron.html\">http://cuies.com/post/tutorial-for-tw2other-and-cpanel-cron.html</a>。</p>\n<p><strong>一、 配置源码包</strong></p>\n<h4><strong><br /></strong></h4>\n<p>先去项目主页上下载最新的源码包，解压到任意目录下，然后开始配置，你需要一个notepad++之类文本编辑软件。</p>\n<p><strong>配置 config.php 文件</strong></p>\n<p>第3行：</p>\n<p><code>define ( 'INTERVAL', 50 );</code></p>\n<p>这里的50是更新间隔时间50秒，可以不改。如果更改的话，这个间隔时间要比后面设置的cron的间隔时间小。</p>\n<p>第8行和第9行：</p>\n<p><code>define('CONSUMER_KEY', '5xb2INFvAZHcLLz1iHQ2A');<br />define('CONSUMER_SECRET', 'NNJAppLCPA3UHxCwy2i2i7nzPM8qaddF5OsKyALTRHE');</code></p>\n<p>修改成自己申请的 <a href=\"http://twitter.com/oauth/\">Twitter App</a> 的 key 和 secret 。</p>\n<p>第12行：</p>\n<p><code>define('OAUTH_CALLBACK', '<a href=\"http://cuies.com/tw2other/callback.php'\">http://cuies.com/tw2other/callback.php'</a>);</code></p>\n<p>也要修改成自己的，格式也是“<a href=\"http://xn--eqrt2g/tw2other/callback.php\">http://域名/tw2other/callback.php</a>”，并且到自己的 Twitter App 中修改 Callback URL 。</p>\n<p>第22行：</p>\n<p><code>$twitterSyncLevel = 0;</code></p>\n<p>看说明，根据自己的喜好修改就可以了。</p>\n<p>第31行：</p>\n<p><code>$follow5ApiKey = '';</code></p>\n<p>同样看说明进行修改，不同步到follow5的跳过。</p>\n<p>最后就是修改对应的登录名和密码了，不用的微博留空就好了。保存关闭。</p>\n<p><code>$services = array (\"sina\" => array (&#39;username&#39; => &#39;填登陆邮箱&#39;, &#39;password&#39; => &#39;填密码&#39; ),</code></p>\n<p>其他依此类推</p>\n<p>PS：Twitter账号已经不是在这里填写了，而是通过最后的验证来添加到程序中的。</p>\n<p><strong>2. 配置 cron.php 文件</strong></p>\n<p>第8行：</p>\n<p><code>$url = \"\";</code></p>\n<p>填写的URL格式是：<a href=\"http://xn--eqrt2g/tw2other/index.php\">http://域名/tw2other/index.php</a></p>\n<p>PS：如果你是借助外部工具来实现cron功能的话，此处不需要配置。</p>\n<p><strong><br /></strong></p>\n<p>把修改完的整个tw2other文件夹上传到你的空间里的domains/你的域名/html/下，tw2other和cookies这两个文件夹一般将权限设置为755或777。</p>\n<p>上传后访问 <a href=\"http://xn--eqrt2g/tw2other/test.php\">http://域名/tw2other/test.php</a> ，如程序正常运行则显示“很好，可以运行！”（显示乱码是因为浏览器编码问题，请自行设置浏览器编码为UTF-8）</p>\n<h4><strong>二、 配置cron（时钟守护作业）</strong></h4>\n<p>进入后台，找到 cron jobs</p>\n<p><img alt=\"Mt AccountCenter  cron jobs\" border=\"0\" height=\"163\" src=\"http://ello.im/wp-content/uploads/2011/02/mt-AccountCenter-cron-jobs1.png\" title=\"(mt) AccountCenter  cron jobs.png\" width=\"349\" /></p>\n<p>进入界面以后填入电子邮件来查看是否工作正常</p>\n<p><img alt=\"Mt Media Temple  cron jobs\" border=\"0\" height=\"539\" src=\"http://ello.im/wp-content/uploads/2011/02/mt-Media-Temple-cron-jobs.png\" title=\"(mt) Media Temple :cron jobs.png\" width=\"600\" /></p>\n<p>注意：一般cpanel的命令都是</p>\n<p><code>/usr/local/bin/php /home/你的账户名/public_html/tw2other/cron.php</code></p>\n<p>而media Temple 的是</p>\n<p><code>php /home/你的帐号代码/domains/你的域名/html/tw2other/cron.php<br /></code></p>\n<p>前面一定要加php，不然不行的</p>\n<p>上面的邮箱可填可不填，填的话每次cron运行就会发一封邮件给你，一开始可以设置来观察cron是否正常工作，如果没什么问题了再进后台里删掉邮箱（点击edit 删掉保存即可）</p>\n<h4><strong>三、 使用</strong></h4>\n<p>访问 <a href=\"http://xn--eqrt2g/tw2other/connect.php\">http://域名/tw2other/connect.php</a> ，点击 sign in with twitter 进行验证，页面会跳转到Twitter官方的Oauth验证页面，点 Allow ，完成后会跳转回 index.php 页面，空间里会多出两个文件：<a href=\"http://twitter.id\">twitter.id</a> 和 lock ，即验证已经完成，程序也开始工作了。</p>\n<p>如果验证出错，比如没有正常跳转回 index.php ，可能是空间自身的原因。（也有可能要求删除lock文件，删掉即可。一开始我删掉也不行，最后重新上传安装便成功了。）</p>\n<p>另外，访问 index.php 看到“Can’t update now!”或“No Update”属于正常现象。</p>\n<p>（完）</p>\n<p>  <a href=\"http://feeds.wordpress.com/1.0/gocomments/xijie.wordpress.com/3774/\" rel=\"nofollow\"><img alt=\"\" border=\"0\" src=\"http://feeds.wordpress.com/1.0/comments/xijie.wordpress.com/3774/\" /></a> <a href=\"http://feeds.wordpress.com/1.0/godelicious/xijie.wordpress.com/3774/\" rel=\"nofollow\"><img alt=\"\" border=\"0\" src=\"http://feeds.wordpress.com/1.0/delicious/xijie.wordpress.com/3774/\" /></a> <a href=\"http://feeds.wordpress.com/1.0/gofacebook/xijie.wordpress.com/3774/\" rel=\"nofollow\"><img alt=\"\" border=\"0\" src=\"http://feeds.wordpress.com/1.0/facebook/xijie.wordpress.com/3774/\" /></a> <a href=\"http://feeds.wordpress.com/1.0/gotwitter/xijie.wordpress.com/3774/\" rel=\"nofollow\"><img alt=\"\" border=\"0\" src=\"http://feeds.wordpress.com/1.0/twitter/xijie.wordpress.com/3774/\" /></a> <a href=\"http://feeds.wordpress.com/1.0/gostumble/xijie.wordpress.com/3774/\" rel=\"nofollow\"><img alt=\"\" border=\"0\" src=\"http://feeds.wordpress.com/1.0/stumble/xijie.wordpress.com/3774/\" /></a> <a href=\"http://feeds.wordpress.com/1.0/godigg/xijie.wordpress.com/3774/\" rel=\"nofollow\"><img alt=\"\" border=\"0\" src=\"http://feeds.wordpress.com/1.0/digg/xijie.wordpress.com/3774/\" /></a> <a href=\"http://feeds.wordpress.com/1.0/goreddit/xijie.wordpress.com/3774/\" rel=\"nofollow\"><img alt=\"\" border=\"0\" src=\"http://feeds.wordpress.com/1.0/reddit/xijie.wordpress.com/3774/\" /></a> <img alt=\"\" border=\"0\" height=\"1\" src=\"http://stats.wordpress.com/b.gif?host=xijie.wordpress.com&#038;blog=10068099&#038;post=3774&#038;subd=xijie&#038;ref=&#038;feed=1\" width=\"1\" /></p>\n</p>\n</p>\n</p>\n</p>\n</p>\n</p>\n</p>\n</p>\n</p>\n</p>\n</p>\n</p>\n</p>\n</p>\n</p>\n</p>\n</p>\n</p>\n</p>\n</p>\n</p>\n</p>\n</p>\n</p>\n<p><img src=\"http://feeds.wordpress.com/1.0/comments/xijie.wordpress.com/3774/\" /></p>\n<p><b>更多翻墙方式请发电邮(最好用Gmail)到:fanqiang70maATgmail.com</b></p>\n","author":893,"categories":[15300],"tags":[8795]}