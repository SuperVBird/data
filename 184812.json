{"id":184812,"link":"https://chinadigitaltimes.net/chinese/2011/09/编程随想-扫盲vpn翻墙——以hotspot-shield为例/","date":"2011-09-30T12:30:33Z","modified":"2011-09-30T12:30:33Z","title":"编程随想 | 扫盲VPN翻墙——以Hotspot Shield为例","content":"<p>　　临近国庆，GFW封锁家具了。所以俺就多写点翻墙帖。《<a rel=\"nofollow\" href=\"http://program-think.blogspot.com/2011/06/june-fourth-incident-0.html\">回顾 六..四 系列</a>》的下一篇打算在国庆假期发出。期待此系列的网友，请见谅 :(</p>\n<h2>★为啥要介绍Hotspot Shield？</h2>\n<p>　　话说 自.由.门 在9月27日中午发布了新的 7.1.8 版本。俺本来满怀憧憬，以为这个新版本能够解决近期 自.由.门 失效的问题。谁曾想，经过这2天的测试，依旧没戏。看来最近这段时间，不能再指望 自.由.门 了。另一个知名的翻墙工具（无.界），其最新的 10.17 版本是8月中旬出的，早就失效了。不过，俺之前介绍的 世.界.通 + Skype，还是能用滴（只是偶尔会掉线）。<br />　　在此严峻的形势下，为了让大伙儿多一个备选的翻墙工具，也让没用过VPN的网友对此有所了解。今天俺以Hotspot Shield（以下简称 HSS）为例，介绍VPN翻墙的姿势。</p>\n<h2>★VPN简介</h2>\n<p>　　VPN的学名叫虚拟专用网，洋文叫&#8221;Virtual Private Network&#8221;。维基百科的介绍在&#8221;<a rel=\"nofollow\" href=\"http://zh.wikipedia.org/wiki/%E8%99%9B%E6%93%AC%E7%A7%81%E4%BA%BA%E7%B6%B2%E8%B7%AF\">这里</a>&#8220;。本来这玩意儿主要是用于商业公司，为了让那些不在公司里的员工（比如出差在外的）能够方便地访问公司的内部网络。为了防止黑客冒充公司的员工，从外部访问公司的内部网络，VPN软件都会提供强大的加密功能。而这个加密功能，也就让它顺便成为翻墙的利器。</p>\n<h3>◇VPN的翻墙原理</h3>\n<p>　　使用VPN通常需要先安装客户端软件。当你运行VPN客户端，它会尝试联到VPN服务器（这点跟加密代理类似）。一旦和VPN服务器建立连接，VPN客户端就会在你的系统中建立了一个虚拟局域网。而且，你的系统中也会多出一个虚拟网卡（在Windows下，可以用 ipconfig /all 命令，看到这多出来的网卡）。这样一来，你的系统中就有不止一块网卡。这就引出一个问题：那些访问网络的程序，它的数据流应该通过哪个网卡进出？<br />　　为了解决此问题，VPN客户端通常会修改你系统的<b>路由表</b>，让那些数据流，优先从虚拟的网卡进出。由于虚拟的网卡是通往VPN服务器的，当数据流到达VPN服务器之后，VPN服务器再帮你把数据流转向到真正的目的地。<br />　　前面说了，VPN为了保证安全，都采用强加密的方式传输数据。这样一来，GFW就无法分析你的网络数据流，进行敏感词过滤。所以，使用墙外的VPN服务器，无形中就能达到翻墙的效果。</p>\n<h3>◇VPN的优点</h3>\n<p>　　由于VPN客户端会建立虚拟局域网并修改路由表，所以系统中所有涉及到网络的应用程序（比如：浏览器、邮件客户端、聊天工具）都会通过这个虚拟局域网来访问互联网。也就是说，你无需进行额外的配置，就可以让各种软件翻墙。这就是VPN翻墙同加密代理翻墙，最主要的区别。</p>\n<h3>◇VPN的缺点</h3>\n<p>　　VPN的缺点主要有2个。<br />　　其一。为了建立虚拟局域网，通常都需要在系统中装驱动。因此，VPN客户端往往都不是绿色软件，而且还需要管理员权限才能安装。这样一来，那些通过网吧上网的同学，就无福享用了。像俺这样，非常偏爱绿色软件的，估计也不太喜欢VPN翻墙。<br />　　其二。虽然GFW对VPN加密的数据流无可奈何。但是别忘了，GFW还有另外的招数——域名封锁和IP封锁。如果某个VPN用的人太多，GFW会针对这个VPN的服务器进行域名封锁和IP封锁。让这个VPN彻底用不了。</p>\n<p>　　在此顺便一下提醒各位：今天介绍的HSS，虽然目前还能用，但是保不准哪天就失效了。不过捏，HSS是非常老牌的VPN（貌似有4、5年历史了），定期会出新版本。一旦HSS杯具了，你可以等它出新版本的时候，升级一下；也可以改用其它VPN。</p>\n<h2>★如何获取？</h2>\n<p>　　如果你能翻墙，直接上官方网站（在&#8221;<a rel=\"nofollow\" href=\"http://www.hotspotshield.com/\">这里</a>&#8220;），会下载到一个名叫&#8221;DM-XXX.exe&#8221;的东西，这货不是HSS，而是HSS的下载器。拿到下载器之后，为了保险起见，可以先验证一下它的数字签名。验证无误，运行之。然后它会帮你下载到完整的 HSS 安装包（也带有数字签名）。<br />　　如果你无法翻墙，可以通过发送邮件的方式获取这个下载器。Windows平台的网友，发任意邮件到 <u><a rel=\"nofollow\" href=\"mailto:win@anchorfree.com\">win@anchorfree.com</a></u> ；使用苹果的网友，发任意邮件到 <u><a rel=\"nofollow\" href=\"mailto:mac@anchorfree.com\">mac@anchorfree.com</a></u> 。大约一柱香的功夫，你的邮箱就会收到下载器。邮箱收到的下载器，名为&#8221;DM-XXX.safe&#8221;，你只要把扩展名从 safe 改为 exe 就可以直接运行了。<br />　　如果使用下载器碰到问题（最近封锁比较紧，没准GFW把它的下载给封了），或者你比较懒想直接拿到完整的安装包，可以<b>翻墙</b>访问俺的收藏站点（在&#8221;<a rel=\"nofollow\" href=\"https://code.google.com/p/program-think/wiki/Software\">这里</a>&#8220;）。俺放了HSS最近的2个版本（2.04和2.06）。</p>\n<h2>★如何安装？</h2>\n<p>　　前面说了，VPN客户端都需要装驱动。因此，要使用管理员用户进行安装。安装界面第一步先选择中文，后续安装步骤比较傻瓜化，菜鸟用户也能搞定，俺就不浪费口水了。</p>\n<h2>★如何使用？</h2>\n<p>　　安装好之后，到开始菜单里面，点击&#8221;Hotspot Shield Launch&#8221;，就启动了HSS。启动之后，系统托盘会出现一个HSS的图标。如果能正常连接到VPN服务器，该图标会变为绿色。之后，你就可以尽情享受翻墙带来的乐趣。</p>\n<h2>★如何修改路由？</h2>\n<p>　　前面说了，一旦VPN装好，所有软件无需额外设置，都能够翻墙了。但是，这也引来新的问题。有些网友比较看重性能：希望能够不经过VPN，直接访问<b>国内的</b>网站；只有国外的网站才走VPN。这时候，前面提到的&#8221;路由表&#8221;就排上用场了。<br />　　如果你没有IT技术背景，听到&#8221;路由表&#8221;这么高深的词汇，估计心里发虚。不过没关系，天朝不乏热心的网友，已经帮大伙儿做好了傻瓜化的工具。不需要对路由表有深入的理解，便可搞定。<br />1、首先，向大伙儿隆重介绍 chnroutes 开源项目（网站在&#8221;<a rel=\"nofollow\" href=\"http://code.google.com/p/chnroutes/\">这里</a>&#8220;）。该项目提供了预先定制好的路由表，能够做到国内网站自联，国外网站走VPN<br />2、到该网站的&#8221;<a rel=\"nofollow\" href=\"http://code.google.com/p/chnroutes/downloads/detail?name=pre_created_for_win.zip\">这里</a>&#8220;，下载一个压缩包（名为 pre_created_for_win.zip）。只有8.5K，一眨眼就下载完。<br />3、把压缩包解开，里面有4个文件，咱们只需要俩（vpnup.bat 和 vpndown.bat）。<br />4、当你需要调整路由的时候，（以管理员身份）双击 vpnup.bat <br />5、当你需要把路由表复原的时候，就（以管理员身份）双击 vpndown.bat<br />（运行上述俩脚本，大约需要几分钟，快慢与否取决于你电脑的性能）<br />　　怎么样？是不是很简单？懂技术的网友，可以用 tracert 命令来验证路由表修改后的路由效果。</p>\n<h2>★疑难问题解答</h2>\n<p></p>\n<h3>◇用HSS翻墙后，能访问推特，但是无法登录，咋办？</h3>\n<p>　　经俺测试，运行了HSS之后，可以在 HTTP 协议下访问 Twitter，但是无法在 HTTPS 协议下访问。这就造成了 Twitter 无法登录。<br />解决方法是：安装老牌的代理工具TOR。<br />　　虽然TOR目前已经失效，但是在HSS已经建立虚拟局域网的情况下，TOR是可以联通的。然后，设置你的浏览器，走TOR的代理（地址：127.0.0.1，端口：8118）。之后，就可以顺利访问推特了。</p>\n<h3>◇HSS无法启动，咋回事？</h3>\n<p>　　碰上此问题，可以查看一下系统服务（不懂得查看系统服务的，先去Google一下）。如果HSS正常安装，那系统中应该出现4个HSS相关的服务。比较重要的是如下这三个：<br />Hotspot Shield Monitoring Service<br />Hotspot Shield Routing Service<br />Hotspot Shield Service<br />　　这三个服务，只要有一个没有处于运行状态，HSS就无法正常工作。<br />　　如果是 &#8220;Hotspot Shield Service&#8221; 没有运行，比较大的可能是：它依赖于 &#8220;DHCP Client&#8221; 服务，而 &#8220;DHCP Client&#8221; 服务被禁用。如果是这种情况，只需要把 &#8220;DHCP Client&#8221; 服务的启动方式改为自动并运行之，然后再次启动 &#8220;Hotspot Shield Service&#8221; 服务。<br />　　如果是另外两个服务没有运行，可以尝试手动运行一下。如果手动运行也失败，可以来信跟俺交流。</p>\n<h2>★补充说明</h2>\n<p>　　今天提到的某些内容，会增加到俺写的翻墙扫盲教程——《<a rel=\"nofollow\" href=\"http://program-think.blogspot.com/2009/05/how-to-break-through-gfw.html\">如何翻墙</a>》以及《<a rel=\"nofollow\" href=\"http://program-think.blogspot.com/2011/09/gfw-faq.html\">常见翻墙问题答疑</a>》。这两份文档，俺会不定期更新，力图做到与时俱进。<br />　　另外，如果翻墙碰到困难或者有啥翻墙招数要跟俺分享，欢迎来信交流（<a rel=\"nofollow\" href=\"mailto:program.think@gmail.com\">program.think@gmail.com</a>）。</p>\n<div>================================</p>\n<h4>版权声明</h4>\n<p>本博客所有的原创文章，作者皆保留版权。转载必须包含本声明，保持本文完整，并以超链接形式注明作者&#8221;编程随想&#8221;和本文原始地址。</p>\n<h4>学习翻墙</h4>\n<p>发任意邮件到<b>help_gfw@yahoo.com</b>即可自动获取翻墙扫盲教程;别用国内邮箱,易被墙。如有其它问题要联系俺,请写信到<b>program.think@gmail.com</b><img width=\"1\" height=\"1\" src=\"https://blogger.googleusercontent.com/tracker/5235590154125226279-8120441063842135353?l=program-think.blogspot.com\" alt=\"\" /></div>\n<div>\n<a rel=\"nofollow\" href=\"http://feeds.feedburner.com/~ff/programthink?a=du2yWVcW3xs:StbtdvjN3NI:yIl2AUoC8zA\"><img src=\"http://feeds.feedburner.com/~ff/programthink?d=yIl2AUoC8zA\" border=\"0\" /></a> <a rel=\"nofollow\" href=\"http://feeds.feedburner.com/~ff/programthink?a=du2yWVcW3xs:StbtdvjN3NI:qj6IDK7rITs\"><img src=\"http://feeds.feedburner.com/~ff/programthink?d=qj6IDK7rITs\" border=\"0\" /></a> <a rel=\"nofollow\" href=\"http://feeds.feedburner.com/~ff/programthink?a=du2yWVcW3xs:StbtdvjN3NI:7Q72WNTAKBA\"><img src=\"http://feeds.feedburner.com/~ff/programthink?d=7Q72WNTAKBA\" border=\"0\" /></a> <a rel=\"nofollow\" href=\"http://feeds.feedburner.com/~ff/programthink?a=du2yWVcW3xs:StbtdvjN3NI:V_sGLiPBpWU\"><img src=\"http://feeds.feedburner.com/~ff/programthink?i=du2yWVcW3xs:StbtdvjN3NI:V_sGLiPBpWU\" border=\"0\" /></a>\n</div>\n<p><img src=\"http://feeds.feedburner.com/~r/programthink/~4/du2yWVcW3xs\" height=\"1\" width=\"1\" /></p>\n<p><small>本文由自动聚合程序取自网络，内容和观点不代表数字时代立场</small></p>\n<form method=\"POST\" action=\"http://www.feedblitz.com/f/f.fbz?AddNewUserDirect\">\n定期获得翻墙信息？<a href=\"http://www.feedblitz.com/f/?Sub=750556\">请电邮订阅数字时代</a> <br /><input name=\"EMAIL\" maxlength=\"64\" type=\"text\" size=\"25\" value=\"\"><br />\n<input name=\"FEEDID\" type=\"hidden\" value=\"750556\"><br />\n<input name=\"PUBLISHER\" type=\"hidden\" value=\"7485568\"><br />\n<input type=\"submit\" value=\"订阅!\"><br />\n</form>\n","author":991,"categories":[9203],"tags":[8510,9400]}