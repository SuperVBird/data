{"id":189162,"link":"https://chinadigitaltimes.net/chinese/2011/10/翻墙-vpn三合一安装包/","date":"2011-10-16T13:00:47Z","modified":"2011-10-16T13:00:47Z","title":"翻墙 | vpn三合一安装包","content":"<p><p>来源：<a rel=\"nofollow\" target=\"_blank\" href=\"http://igfw.tk/archives/5857\">http://igfw.tk/archives/5857</a>   </p>\n<p>这个安装包其实就是一个shell脚本，帮助大家尽量节约些时间。已经写好有一段时间了，一直没时间写blog，今天做了个review，修修补补就放出来吧。大概写下这个安装包的一些特点。</p>\n<ol>\n<li>三合一，指的是pptp / openvpn / l2tp，另外还安装了nginx / php / mysql / phpMyAdmin / Freeradius / daloradius，基本上把一个vpn系统需要的基本程序安装完了。 </li>\n<li>安装包默认是完全安装，当然也可以只安装其中的某一种vpn，脚本提供定制选项 </li>\n<li>脚本自动获取服务器ip、相关文件路径等，也可定制，说是一键安装有点儿夸张，不过按几下回车就能装完还是可以实现的。 </li>\n<li>现在有CentOS和Ubuntu两个版本，分别在CentOS 5.5 和 Ubuntu 10.04 LTS上测试通过。Linux的发行版太多了，搞得我头都大了好几圈，对其他版本有爱的同学请自行修改。</li>\n</ol>\n<p><span></span></p>\n<p>安装方法：</p>\n<p>在命令行界面根据不同的版本，输入wget <a rel=\"nofollow\" target=\"_blank\" href=\"http://20ne.com/vpn/ubuntu.sh\">http://20ne.com/vpn/ubuntu.sh</a> 或 wget <a rel=\"nofollow\" target=\"_blank\" href=\"http://20ne.com/vpn/centos.sh\">http://20ne.com/vpn/centos.sh</a> ，取得文件后直接运行脚本，中间有少许参数需手工确认，无需修改的话，直接回车即可。</p>\n<p>IT民工业余制作，测试环境恶劣，所以问题肯定很多，不能保证在所有平台都一帆风顺。大家用的时候可以自己斟酌修改，也可以和我交流。</p>\n<p>【update 2010-10-28】   <br />使用方法：</p>\n<p>安装完成后，脚本会自动在数据库中添加一个测试账号test，密码为1234。大家可以通过自动安装的phpMyadmin访问mysql数据库进 行修改和新增，对应的表为radius库里的radcheck，也可以通过自动安装的daloradius来管理vpn账号，初始用户名为 administrator，密码为radius，可以在radius库的operators中修改和新增管理用户。   <br />默认链接：    <br />phpMyAdmin: http://<your vps ipaddress>/pma/    <br />daloradius: http://<your vps ipaddress>/dr/    <br />对于openvpn，在安装目录下会生成一个名为openvpn的新目录，里边的client目录包含对应该服务端的客户端配置文件和证书，需要分发给客户端，并使用用户名和密码进行登录。    <br />对于pptp，直接新建一个基于pptp的网络连接就行，具体请google &#8220;<a rel=\"nofollow\" target=\"_blank\" href=\"https://encrypted.google.com/search?q=%E5%A6%82%E4%BD%95%E8%AE%BE%E7%BD%AEpptp+vpn&#038;hl=zh-CN\">如何设置pptp vpn</a>&#8221;    <br />对于l2tp，和pptp类似，不过需要改为l2tp方式，并填写IpSec密钥，此密钥默认为palfans，可在执行脚本前，修改secret_key的值。具体如何新建连接请google &#8220;<a rel=\"nofollow\" target=\"_blank\" href=\"https://encrypted.google.com/search?hl=zh-CN&#038;newwindow=1&#038;q=%E5%A6%82%E4%BD%95%E8%AE%BE%E7%BD%AE+l2tp+vpn&#038;aq=f&#038;aqi=&#038;aql=&#038;oq=&#038;gs_rfai=\">如何设置l2tp vpn</a>&#8220;</p>\n<p><strong>原文</strong>：<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.palfans.net/3-in-1-vpn-package/\">http://www.palfans.net/3-in-1-vpn-package/</a></p>\n<p>我使用<a rel=\"nofollow\" target=\"_blank\" href=\"http://igfw.tk/archives/5725\">Cloudee.eu</a>免费试用VPS试了下，使用CentOS 5.5 x86系统测试可以正常使用，比较方便简单，大家可以测试下。</p>\n<p>安装VPN过程中VPS类型选择XEN，如果安装好VPN后不能登录，重启VPS系统后PPTP和L2TP VPN应该就可以正常连接（不行就多试几次），OpenVPN默认使用53端口好像我这不能连接，我改成1194端口后VPS上重启openvpn服务就 可以连接了（修改openvpn的配置文件server.conf里边指定端口53改为1194，改完以后，再把客户端用的ovpn也做相应的修改）。</p>\n<p>  <a rel=\"nofollow\" target=\"_blank\" href=\"http://feeds.wordpress.com/1.0/gocomments/xijie.wordpress.com/5193/\"><img alt=\"\" border=\"0\" src=\"http://feeds.wordpress.com/1.0/comments/xijie.wordpress.com/5193/\" /></a> <a rel=\"nofollow\" target=\"_blank\" href=\"http://feeds.wordpress.com/1.0/godelicious/xijie.wordpress.com/5193/\"><img alt=\"\" border=\"0\" src=\"http://feeds.wordpress.com/1.0/delicious/xijie.wordpress.com/5193/\" /></a> <a rel=\"nofollow\" target=\"_blank\" href=\"http://feeds.wordpress.com/1.0/gofacebook/xijie.wordpress.com/5193/\"><img alt=\"\" border=\"0\" src=\"http://feeds.wordpress.com/1.0/facebook/xijie.wordpress.com/5193/\" /></a> <a rel=\"nofollow\" target=\"_blank\" href=\"http://feeds.wordpress.com/1.0/gotwitter/xijie.wordpress.com/5193/\"><img alt=\"\" border=\"0\" src=\"http://feeds.wordpress.com/1.0/twitter/xijie.wordpress.com/5193/\" /></a> <a rel=\"nofollow\" target=\"_blank\" href=\"http://feeds.wordpress.com/1.0/gostumble/xijie.wordpress.com/5193/\"><img alt=\"\" border=\"0\" src=\"http://feeds.wordpress.com/1.0/stumble/xijie.wordpress.com/5193/\" /></a> <a rel=\"nofollow\" target=\"_blank\" href=\"http://feeds.wordpress.com/1.0/godigg/xijie.wordpress.com/5193/\"><img alt=\"\" border=\"0\" src=\"http://feeds.wordpress.com/1.0/digg/xijie.wordpress.com/5193/\" /></a> <a rel=\"nofollow\" target=\"_blank\" href=\"http://feeds.wordpress.com/1.0/goreddit/xijie.wordpress.com/5193/\"><img alt=\"\" border=\"0\" src=\"http://feeds.wordpress.com/1.0/reddit/xijie.wordpress.com/5193/\" /></a> <img alt=\"\" border=\"0\" height=\"1\" src=\"http://stats.wordpress.com/b.gif?host=xijie.wordpress.com&#038;blog=10068099&#038;post=5193&#038;subd=xijie&#038;ref=&#038;feed=1\" width=\"1\" /></p>\n<p><img src=\"http://feeds.wordpress.com/1.0/comments/xijie.wordpress.com/5193/\" /></p>\n<p>翻越防火长城，你可以到达世界上的每一个角落。（Across the Great Firewall, you can reach every corner in the world.）<br />\n<small>本文由自动聚合程序取自网络，内容和观点不代表数字时代立场</small></p>\n<form method=\"POST\" action=\"http://www.feedblitz.com/f/f.fbz?AddNewUserDirect\">\n定期获得翻墙信息？<a href=\"http://www.feedblitz.com/f/?Sub=738338\">请电邮订阅数字时代</a> <br /><input name=\"EMAIL\" maxlength=\"64\" type=\"text\" size=\"25\" value=\"\"><br />\n<input name=\"FEEDID\" type=\"hidden\" value=\"738338\"><br />\n<input name=\"PUBLISHER\" type=\"hidden\" value=\"7485568\"><br />\n<input type=\"submit\" value=\"订阅!\"><br />\n</form>\n","author":983,"categories":[15300],"tags":[7775,8510,8795,8817]}