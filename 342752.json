{"id":342752,"link":"https://chinadigitaltimes.net/chinese/2014/04/翻墙-关于gfw主动探测ssl（spdy）站点的研究/","date":"2014-04-16T13:39:44Z","modified":"2014-04-16T13:39:44Z","title":"翻墙 | 关于GFW主动探测SSL（SPDY）站点的研究","content":"<p><div dir=\"ltr\">&#21407;&#25991;&#38142;&#25509;&#65306;https://plus.google.com/+&#38472;&#23569;&#20030;elf/posts/jaoJpdLkXCg</p>\n<p>&#27492;POST&#26159;&#25105;&#20010;&#20154;&#30340;&#19968;&#20123;&#31895;&#30053;&#30740;&#31350;&#65292;&#26377;&#20852;&#36259;&#30340;&#21487;&#20197;&#33258;&#34892;&#39564;&#35777;&#12290;</p>\n<p>&#26412;&#20154;&#22312;&#22659;&#22806;&#26377;&#19968;&#20010;VPS&#26381;&#21153;&#22120;&#65292;&#19978;&#38754;&#25645;&#24314;&#20102;&#19968;&#20010;&#25105;&#32534;&#20889;&#30340;PHP&#34588;&#32592;[1]&#12290;&#36825;&#20010;&#34588;&#32592;&#20027;&#35201;&#29992;&#20110;&#35760;&#24405;&#40657;&#23458;&#21644;&#25195;&#25551;&#22120;&#30340;&#35775;&#38382;&#12290;&#20174;2013&#24180;&#25645;&#24314;&#24320;&#22987;&#65292;&#38470;&#38470;&#32493;&#32493;&#30340;&#35760;&#24405;&#19979;&#20102;&#19968;&#20123;&#35775;&#38382;&#32773;&#30340;&#20449;&#24687;&#65292;&#22823;&#37096;&#20998;&#37117;&#26159;&#26469;&#33258;&#20110;&#40657;&#23458;&#30340;&#25195;&#25551;&#22120;&#65292;&#25110;&#32773;&#25628;&#32034;&#24341;&#25806;&#30340;&#34584;&#34523;&#12290;</p>\n<p>&#22312;&#20170;&#24180;2&#26376;&#20221;&#20197;&#21518;&#65288;&#21487;&#33021;&#26159;&#25105;&#23433;&#35013;&#20102;spdy&#20043;&#21518;&#65311;&#65289;&#65292;&#34588;&#32592;&#24320;&#22987;&#35760;&#24405;&#21040;&#19968;&#20123;&#30475;&#36215;&#26469;&#24456;&#26222;&#36890;&#65292;&#20294;&#26159;&#20986;&#29616;IP&#22320;&#22336;&#26080;&#35268;&#24459;&#30340;User-Agent&#65288;&#27983;&#35272;&#22120;&#29992;&#25143;&#20195;&#29702;&#65289;&#65306;&ldquo;Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1)&rdquo;&#65292;&#22914;&#26524;&#20174;&#36825;&#26465;&#35760;&#24405;&#19978;&#26469;&#30475;&#65292;&#21482;&#33021;&#30475;&#20986;&#35775;&#38382;&#32773;&#20351;&#29992;&#30340;&#26159;Windows XP&#30340;&#25805;&#20316;&#31995;&#32479;&#65292;&#21516;&#26102;&#20351;&#29992;IE7.0&#27983;&#35272;&#22120;&#12290;</p>\n<p><img height=\"561\" src=\"https://lh3.googleusercontent.com/-FYOtO2g-Ob0/U0zw-D33LGI/AAAAAAAAiTU/B4wkwaWe7U0/w892-h786-no/Screenshot.png\" width=\"640\"></p>\n<p>&#19968;&#24320;&#22987;&#25105;&#35748;&#20026;&#36825;&#26159;&#26576;&#20010;&#31895;&#21046;&#28389;&#36896;&#30340;&#25195;&#25551;&#22120;&#32905;&#40481;&#65292;&#20294;&#26159;&#26377;&#19968;&#20010;&#24456;&#22855;&#24618;&#30340;&#29616;&#35937;&#65306;&#27492;&#31867;&#23458;&#25143;&#30340;IP&#22343;&#26469;&#33258;&#22269;&#20869;&#65292;&#21363;&#20351;&#21018;&#21018;&#25429;&#33719;&#21040;&#19968;&#20010;IP&#65292;&#31435;&#21051;Ping&#25110;Traceroute&#20063;&#26080;&#27861;&#20197;&#20219;&#20309;&#24418;&#24335;&#35775;&#38382;&#19978;&#12290;</p>\n<p>&#19968;&#30452;&#21040;&#20170;&#24180;&#22235;&#26376;&#65292;&#25105;&#20598;&#28982;&#27880;&#24847;&#21040;&#19968;&#20010;&#29616;&#35937;&#65292;&#26576;&#20123;&#26102;&#20505;&#19968;&#35775;&#38382;&#25105;&#26381;&#21153;&#22120;&#19978;&#30340;SSL&#31449;&#28857;&#65288;&#25105;&#25645;&#24314;&#20102;&#19968;&#20010;phpmyadmin&#29992;&#20110;&#31649;&#29702;&#65289;&#65292;&#31435;&#21051;&#23601;&#20250;&#26377;&#36825;&#26679;&#30340;&#19968;&#20010;&#29992;&#25143;&#26469;&#35775;&#38382;&#65292;&#20294;&#26159;&#36890;&#36807;&#25163;&#26426;&#30340;&#27983;&#35272;&#22120;&#35775;&#38382;&#21364;&#19981;&#20250;&#20986;&#29616;&#36825;&#20010;&#29616;&#35937;&#65288;&#19981;&#25903;&#25345;SPDY&#65311;&#65289;&#12290;</p>\n<p>&#22312;&#26816;&#26597;&#20102;Apache2&#30340;&#26085;&#24535;[2]&#21518;&#65292;&#25105;&#24576;&#30097;&#27492;&#35775;&#38382;&#26159;&#26469;&#33258;GFW&#30340;&#27169;&#25311;&#35775;&#38382;&#65292;&#29992;&#20110;&#26816;&#27979;&#24403;&#21069;IP&#30340;SSL&#31449;&#28857;&#19978;&#26159;&#21542;&#21547;&#26377;&#26576;&#20123;&#38750;&#27861;&#20869;&#23481;[3]&#12290;</p>\n<p>&#20110;&#26159;&#25105;&#36827;&#34892;&#20102;&#25235;&#21253;&#20998;&#26512;[2]&#65292;SSL&#26381;&#21153;&#22120;&#30340;&#30830;&#21644;&#36825;&#20010;&#22855;&#24618;&#30340;IP&#22320;&#22336;&#24314;&#31435;&#20102;&#36830;&#25509;&#65292;&#32780;&#19988;&#20256;&#36755;&#20102;&#20869;&#23481;&#12290;&#36890;&#36807;&#25972;&#21512;Apache&#30340;&#26085;&#24535;&#65292;&#25105;&#24471;&#20986;&#20197;&#19979;&#32467;&#35770;&#65306;</p>\n<p>1.GFW&#20250;&#20027;&#21160;&#25506;&#27979;&#20351;&#29992;SPDY&#21327;&#35758;&#30340;&#26381;&#21153;&#22120;&#12290;<br />2.GFW&#19981;&#30693;&#36947;&#20027;&#26426;&#22836;&#65288;Host&#65289;&#65292;&#22240;&#27492;&#21482;&#33021;&#20197;IP&#30340;&#26041;&#24335;&#26469;&#35775;&#38382;&#12290;<br />3.&#26469;&#28304;IP&#22343;&#20026;&#22269;&#20869;&#30340;&#38543;&#26426;IP&#22320;&#22336;&#65292;&#22240;&#20026;&#24517;&#39035;&#35201;&#21487;&#20197;&#36335;&#30001;&#21040;&#22269;&#20869;&#12290;<br />4.&#20174;&#20004;&#27425;&#25235;&#21253;&#30340;TTL&#30456;&#21516;&#65292;&#20294;&#26159;IP&#19981;&#21516;&#30340;&#24773;&#20917;&#26469;&#30475;&#65292;GFW&#30340;&#25506;&#27979;&#20986;&#21475;&#26159;&#22266;&#23450;&#22312;&#26576;&#20010;&#20301;&#32622;&#30340;&#65292;&#21021;&#22987;TTL&#21487;&#33021;&#20026;64&#12290; &#31532;&#19977;&#27425;&#25235;&#21253;&#30340;&#26102;&#20505;TTL&#21457;&#29983;&#20102;&#21464;&#21270;&#65292;&#19982;TTL&#26080;&#20851;&#12290;</p>\n<p><img src=\"https://lh6.googleusercontent.com/-AOapye_RR2I/U0zw9xSTfwI/AAAAAAAAiTQ/XcwOKn7T-ok/w511-h283-no/Screenshot2.png\"></p>\n<p>&#24314;&#35758;&#65306;&#22914;&#26524;&#20320;&#35201;&#20351;&#29992;SSL/TLS+SPDY&#21327;&#35758;&#26469;&#20445;&#25252;&#20320;&#30340;&#25935;&#24863;&#20869;&#23481;&#65292;&#19981;&#35201;&#23558;&#25935;&#24863;&#20869;&#23481;&#25918;&#22312;&#32593;&#31449;&#30340;&#26681;&#30446;&#24405;&#65292;&#30830;&#20445;&#30452;&#25509;&#36890;&#36807;IP&#35775;&#38382;&#19981;&#20250;&#26174;&#31034;&#25935;&#24863;&#20869;&#23481;&#65292;&#21487;&#20197;&#36890;&#36807;&#21019;&#24314;&#32465;&#23450;&#22495;&#21517;&#30340;&#34394;&#25311;&#20027;&#26426;&#65288;VirtualHost&#65292;Apache2&#65289;&#26469;&#36827;&#34892;&#20445;&#25252;&#12290;</p>\n<p>&#22914;&#20309;&#26816;&#26597;GFW&#26159;&#21542;&#20809;&#20020;&#36807;&#25105;&#30340;&#26381;&#21153;&#22120;&#65311;</p>\n<p>&#22914;&#26524;&#20320;&#30340;&#32593;&#31449;&#21551;&#29992;&#20102;SSL&#21644;SPDY&#65292;&#25171;&#24320;&#20320;&#30340;&#32593;&#31449;&#26381;&#21153;&#22120;&#26085;&#24535;&#65292;&#25628;&#32034;&ldquo;Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1)&rdquo;&#65292;&#30475;&#30475;&#26377;&#26080;&#26469;&#33258;&#22269;&#20869;&#30340;IP&#65292;&#21516;&#26102;&#27809;&#26377;&#25552;&#20132;&#20027;&#26426;&#22836;(Host)&#21644;&#36339;&#36716;&#26469;&#28304;(Reference)&#12290;</p>\n<p>&#30097;&#38382;&#65306;&#26082;&#28982;GFW&#20250;&#26469;&#20027;&#21160;&#32034;&#21462;&#26381;&#21153;&#22120;&#19978;&#30340;&#20869;&#23481;&#65292;&#22914;&#26524;&#26381;&#21153;&#22120;&#36820;&#22238;&#19968;&#20010;&#21487;&#33021;&#20250;&#24341;&#36215;&#23458;&#25143;&#31471;&#27983;&#35272;&#22120;&#23849;&#28291;&#25110;&#21152;&#23494;&#23618;&#28322;&#20986;&#30340;&#24322;&#24120;&#36820;&#22238;&#65288;&#20551;&#35774;&#23384;&#22312;&#36825;&#26679;&#30340;&#28431;&#27934;&#65289;&#65292;&#37027;&#20040;&#26159;&#21542;&#21487;&#20197;&#24324;&#22446;&#36825;&#20010;&#20027;&#21160;&#25506;&#27979;&#65311;</p>\n<p>[1]&#34588;&#32592;&#28304;&#30721;&#35814;&#35265;&#65306; http://pastebin.com/U1cWHhRB<br />[2]&#26412;&#20154;&#30340;Apache&#26085;&#24535;&#21644;&#25235;&#21253;&#32467;&#26524;&#35814;&#35265;&#65306; https://gist.github.com/chenshaoju/567b0f5241cb33345c1b<br />[3]&#20845;&#20010;&#26376;&#21069;&#65292;SwitchyOmega&#30340;Issues&#21015;&#34920;&#19978;&#26377;&#20154;&#25253;&#21578;&#35828;GFW&#20250;&#24320;&#22987;&#20027;&#21160;&#25506;&#27979;SSL/SPDY&#21327;&#35758;&#65292;&#20294;&#26159;&#21487;&#33021;&#26159;&#29992;&#20110;&#26816;&#27979;SSL/SPDY&#20195;&#29702;&#26381;&#21153;&#65306; https://github.com/FelisCatus/SwitchyOmega/issues/2</p>\n<p>&#21407;&#25991;&#38142;&#25509;&#65306;https://plus.google.com/+&#38472;&#23569;&#20030;elf/posts/jaoJpdLkXCg</p></div>\n<div>&#32763;&#22681;&#25216;&#26415;&#21338;&#23458;<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.chinagfw.org/2013/09/blog-post.html\">&#35746;&#38405;&#22320;&#22336;&#21450;&#31038;&#20132;&#24080;&#21495;</a></div></p>\n","author":1005,"categories":[18270,18269,15300],"tags":[7775,8817]}