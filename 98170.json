{"id":98170,"link":"https://chinadigitaltimes.net/chinese/2010/08/搜狐api之ip地址查询/","date":"2010-08-13T03:23:14Z","modified":"2010-08-13T03:23:14Z","title":"搜狐API之IP地址查询","content":"<p><p>来自: <a href=\"http://www.feedzshare.com/b/2505/2\">BT的花 blogs &#8211; FeedzShare</a>  <a href=\"http://www.feedzshare.com/b/149341/2\">www.dup2.org &#8211; FeedzShare</a>  <br />\n<br />发布时间:2010年08月12日,  已有 7 人推荐 </p>\n<hr>\n<div>\n<p>因为要做天气预报这件事，发现搜狐好像没有一个实时的判断浏览器所在城市的方法——已有的都是把判断结果放在某定期失效的cookie里，这样可以减少服务器压力。</p>\n<p>仔细一想就觉得这玩意其实对资源消耗没有那么大，于是就要求整一个实时的。。。。。然后就觉得该接口也可以给外部开发者调用：<a href=\"http://pv.sohu.com/cityjson\">http://pv.sohu.com/cityjson</a></p>\n<p>这个接口是给浏览器JS来调用的，缺省返回 gbk 编码的数据；如果你的应用是 UTF-8，加一个参数 <a href=\"http://pv.sohu.com/cityjson?ie=utf-8\">http://pv.sohu.com/cityjson?ie=utf-8</a></p>\n<p>目前这个接口只是搜狐在用，所以参数很简单，返回的那个 cid 还很魔幻；如果觉得这个接口确实有帮助，可以把需求发给俺们来继续改进之</p>\n<p>未来也许搜狐会提供给互联网开发者更多的接口和服务。</p>\n<p>BTW：写这篇blog之前突然想到，中国互联网应该有类似的接口了吧，一查之下果然 QQ 有一个 <a href=\"http://fw.qq.com/ipaddress\">http://fw.qq.com/ipaddress</a>，但好像不是官方支持，而且它只有 gbk，哇咔咔</p>\n</div>\n<p><img src=\"http://img.tongji.linezing.com/1017243/tongji.gif\" /><img src=\"http://img.tongji.linezing.com/997968/tongji.gif\" /></p>\n<p>“要翻墙，<a href=\"http://idajiangyou.info\" target=\"_blank\">用赛风”</a>.</p>\n","author":176,"categories":[1],"tags":[8800]}