{"id":95760,"link":"https://chinadigitaltimes.net/chinese/2010/08/从垃圾站看技术：chrome也能调用activex版的flash/","date":"2010-08-07T22:56:49Z","modified":"2010-08-07T22:56:49Z","title":"从垃圾站看技术：Chrome也能调用ActiveX版的Flash","content":"<p><p>来自: <a href=\"http://www.feedzshare.com/b/897876/2\">Initiative &#8211; FeedzShare</a>  <br />\n<br />发布时间:2010年08月07日,  已有 6 人推荐 </p>\n<hr>\n<div>\n<p>无聊逛豆瓣无意中点到一个垃圾站，很让我震惊的是，这玩意儿居然是用Windows Media Player作为Adobe Flash的容器</p>\n<p><img src=\"http://blog.est.im/wp-content/uploads/2010/08/12.png\" alt=\"\" /></p>\n<p>看源码</p>\n<p><img src=\"http://blog.est.im/wp-content/uploads/2010/08/21.png\" alt=\"\" /></p>\n<p>居然是<code>type=\"application/x-mplayer2\"</code>里嵌入一个sina video的swf视频播放器。。。</p>\n<p>从dll加载的角度证实了我这个猜想</p>\n<p><img src=\"http://blog.est.im/wp-content/uploads/2010/08/31.png\" alt=\"\" /></p>\n<p>系统里的Flash插件分两种</p>\n<p><img src=\"http://blog.est.im/wp-content/uploads/2010/08/41.png\" alt=\"\" /></p>\n<p>一个是<code>Flash10h.ocx</code>，这个是所有Windows本地播放器的核心，也是IE的Flash插件的核心，基于ActiveX技术。</p>\n<p>另一个是<code>NPSWF32.dll</code>，这个是支持所有NPAPI的浏览器插件。支持NPAPI的有：Netscape, Firefox, Opera, Safari, Chrome等等。</p>\n<p>我还猜想通过Windows Media Player加载的swf可能会绕过Chrome自身的HTTP协议栈，而直接通过WinINET发出请求，也就是说，IE的cookie可以被Chrome读取到～～～～IE的exp也有可能在Chrome下被加载和诱发～～～～</p>\n<p>第二个猜想：Firefox里即使用了Noflash, NoScript插件，通过WMP容器加载的Flash依然能够显示。手里暂时没Firefox所以就没试了。</p>\n<p>我又邪恶了～～～muh ha ha ha～～～～垃圾站里这种囧技术真能启发思维啊。。。。</p>\n<p><ins>更新</ins>：Firefox的NoScript的确对这种Flash无效</p>\n<p><img src=\"http://blog.est.im/wp-content/uploads/2010/08/5.png\" alt=\"\" /></p>\n<p>除非你勾选了Forbid other plugins.</p>\n</div>\n<p><img src=\"http://img.tongji.linezing.com/1017243/tongji.gif\" /><img src=\"http://img.tongji.linezing.com/997968/tongji.gif\" /></p>\n<p>请看原文：<br />\n<a target=\"_blank\" href=\"http://blog.est.im/archives/2678\" title=\"从垃圾站看技术：Chrome也能调用ActiveX版的Flash\">从垃圾站看技术：Chrome也能调用ActiveX版的Flash</a></p>\n","author":176,"categories":[1],"tags":[]}