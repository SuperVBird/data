{"id":188241,"link":"https://chinadigitaltimes.net/chinese/2011/10/翻墙-如何把vps作为ssh代理翻墙/","date":"2011-10-12T17:31:05Z","modified":"2011-10-12T17:31:05Z","title":"翻墙 | 如何把VPS作为SSH代理翻墙","content":"<p><p>来源：<a rel=\"nofollow\" target=\"_blank\" href=\"http://jingpin.org/use-vps-as-ssh-proxy/\">http://jingpin.org/use-vps-as-ssh-proxy/</a>    </p>\n<p>VPS 不仅可以用来搭建 <a rel=\"nofollow\" target=\"_blank\" href=\"http://jingpin.org/how-to-set-up-pptp-vpn-in-a-vps/\">PPTP</a>、<a rel=\"nofollow\" target=\"_blank\" href=\"http://jingpin.org/set-up-l2tp-ipsec-in-a-vps/\">L2TP/IPSec</a> 和 <a rel=\"nofollow\" target=\"_blank\" href=\"http://jingpin.org/set-up-openvpn-in-vps/\" title=\"OpenVPN\">OpenVPN</a>，而且还可以直接作为 SSH 代理翻墙。</p>\n<p>以下将介绍一个如何把 VPS 作为 SSH 代理翻墙的简易方法： <span></span></p>\n<h2>I、连接 VPS</h2>\n<p><img alt=\"SSH VPS Terminal Connect\" height=\"122\" src=\"http://freenuts.com/images/ssh-vps-terminal.jpg\" title=\"ssh-vps-terminal\" width=\"530\" /></p>\n<p>如<a rel=\"nofollow\" target=\"_blank\" href=\"http://jingpin.org/100-anti-censorthip-tools/\" title=\"100 个免费翻墙工具\">之前</a>所说，对 Windows 来讲，你可以安装一个 SSH 客户端（例如 Tunnelier）, 对 Mac 来讲，你也可以安装一个 SSH 客户端（例如 Issh），但更简单的方法是直接在终端应用程序上通过以下命令连接：</p>\n<blockquote>\n<p>ssh -N -D 7070 <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:root@94.249.184.93\">root@94.249.184.93</a></p>\n</blockquote>\n<p>记得将 &#8220;94.249.184.93&#8221; 替换成你 VPS 的 IP 地址，按下 &#8220;Return&#8221; 键，输入 VPS 登录密码，如果正确，回车后你将看不到任何新的内容。</p>\n<p>顺便说一下，不管你的 VPS 事先是否已经安装了 VPN，你都可以把 VPS 作为 SSH 代理，这不会影响 VPN 的使用。</p>\n<h3>技巧：</h3>\n<p>尽管以上是最简单的连接方法，但是只能供你一个人使用――除非你想把自己的 VPS 帐户和别人分享。而如果要和别人分享同一个 SSH 代理，你可以通过以下 4 个步骤新建一个受限的 VPS 用户:</p>\n<p><strong>1、登录 VPS</strong></p>\n<p>在终端应用程序上输入以下命令：</p>\n<blockquote>\n<p>SSH <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:root@94.249.184.93\">root@94.249.184.93</a></p>\n</blockquote>\n<p>记得将 &#8220;94.249.184.93&#8221; 替换成你 VPS 的 IP 地址。</p>\n<p><strong>2、创建一个用户组</strong></p>\n<p>输入以下命令：</p>\n<blockquote>\n<p>groupadd internetfreedom</p>\n</blockquote>\n<p>你可以将 &#8220;internetfreedom&#8221; 替换成任意名字。</p>\n<p><strong>3、创建受限用户</strong></p>\n<p>输入以下命令：</p>\n<blockquote>\n<p><code>useradd -d /home/freenutsdotcom -m -g internetfreedom -s /bin/false freenutsdotcom</code></p>\n</blockquote>\n<p>以上命令将会在 &#8220;internetfreedom&#8221; 创建一个新的 SSH 用户 &#8220;freenutsdotcom&#8221;，该用户只能使用 SSH 代理，不能登录你的 VPS 帐户。</p>\n<p><strong>4、为新用户设置密码</strong></p>\n<p>输入以下命令：</p>\n<blockquote>\n<p>passwd freenutsdotcom</p>\n</blockquote>\n<p>然后，为该用户设置任意密码 (例如 &#8220;123456&#8221;)。</p>\n<p>完了之后，你就可以把该用户名和密码分享给朋友，他们也就可以通过以下命令使用你的 SSH 代理：</p>\n<blockquote>\n<p>ssh -N -D 7070 <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:freenutsdotcom@94.249.184.93\">freenutsdotcom@94.249.184.93</a></p>\n</blockquote>\n<p>记得把 &#8220;freenutsdotcom&#8221; 替换成你新建的用户名，把 &#8220;94.249.184.93&#8221; 替换成你 VPS 的 IP 地址。</p>\n<h2>II、配置浏览器代理</h2>\n<p>连接上 VPS 之后，你需要在浏览器的网络设置里面将 Socks 代理的服务器 IP 地址设为 127.0.0.1，并且端口为 7070。其中 Firefox 和 Chrome 浏览器的设置分别如下：</p>\n<p><strong>1、Firefox</strong></p>\n<p><img alt=\"SSH proxy settings\" height=\"481\" src=\"http://freenuts.com/images/ssh-vps-proxy.jpg\" title=\"ssh-vps-proxy\" width=\"530\" /></p>\n<p>以上的设置界面你可以在 Firefox 浏览器上通过以下路径找到：</p>\n<blockquote>\n<p>Preference �> Advanced �> Network �> Settings</p>\n</blockquote>\n<p><strong>2、Chrome</strong></p>\n<p><img alt=\"SSH Chrome Proxy Settings\" height=\"449\" src=\"http://freenuts.com/images/ssh-vps-proxy-chrome.jpg\" title=\"ssh-vps-proxy-chrome\" width=\"530\" /></p>\n<p>以上的设置界面你可以在 Chrome 浏览器上通过以下路径找到：</p>\n<blockquote>\n<p>Preference �> Under the Hood �> Network �> Change Proxy Settings</p>\n</blockquote>\n<p>顺便一提，HTTP、SSL、FTP 以及其他代理服务器的 IP 地址一律留空或者不要打勾。</p>\n<h2>额外收获：</h2>\n<p>以下是一个根据以上的教程搭建的 SSH 代理帐号：</p>\n<p><strong>Host:</strong> 94.249.184.93</p>\n<p><strong>Username:</strong> freenutsdotcom</p>\n<p><strong>Password:</strong> 123456</p>\n<p>该 SSH 帐号将供免费试用大概 10 天。</p>\n<p>  <a rel=\"nofollow\" target=\"_blank\" href=\"http://feeds.wordpress.com/1.0/gocomments/xijie.wordpress.com/5181/\"><img alt=\"\" border=\"0\" src=\"http://feeds.wordpress.com/1.0/comments/xijie.wordpress.com/5181/\" /></a> <a rel=\"nofollow\" target=\"_blank\" href=\"http://feeds.wordpress.com/1.0/godelicious/xijie.wordpress.com/5181/\"><img alt=\"\" border=\"0\" src=\"http://feeds.wordpress.com/1.0/delicious/xijie.wordpress.com/5181/\" /></a> <a rel=\"nofollow\" target=\"_blank\" href=\"http://feeds.wordpress.com/1.0/gofacebook/xijie.wordpress.com/5181/\"><img alt=\"\" border=\"0\" src=\"http://feeds.wordpress.com/1.0/facebook/xijie.wordpress.com/5181/\" /></a> <a rel=\"nofollow\" target=\"_blank\" href=\"http://feeds.wordpress.com/1.0/gotwitter/xijie.wordpress.com/5181/\"><img alt=\"\" border=\"0\" src=\"http://feeds.wordpress.com/1.0/twitter/xijie.wordpress.com/5181/\" /></a> <a rel=\"nofollow\" target=\"_blank\" href=\"http://feeds.wordpress.com/1.0/gostumble/xijie.wordpress.com/5181/\"><img alt=\"\" border=\"0\" src=\"http://feeds.wordpress.com/1.0/stumble/xijie.wordpress.com/5181/\" /></a> <a rel=\"nofollow\" target=\"_blank\" href=\"http://feeds.wordpress.com/1.0/godigg/xijie.wordpress.com/5181/\"><img alt=\"\" border=\"0\" src=\"http://feeds.wordpress.com/1.0/digg/xijie.wordpress.com/5181/\" /></a> <a rel=\"nofollow\" target=\"_blank\" href=\"http://feeds.wordpress.com/1.0/goreddit/xijie.wordpress.com/5181/\"><img alt=\"\" border=\"0\" src=\"http://feeds.wordpress.com/1.0/reddit/xijie.wordpress.com/5181/\" /></a> <img alt=\"\" border=\"0\" height=\"1\" src=\"http://stats.wordpress.com/b.gif?host=xijie.wordpress.com&#038;blog=10068099&#038;post=5181&#038;subd=xijie&#038;ref=&#038;feed=1\" width=\"1\" /></p>\n<p><img src=\"http://chinadigitaltimes.net/chinese/files/2011/10/64b72d56ps-terminal.jpg-150x122.jpg\" /></p>\n<p>翻越防火长城，你可以到达世界上的每一个角落。（Across the Great Firewall, you can reach every corner in the world.）<br />\n<small>本文由自动聚合程序取自网络，内容和观点不代表数字时代立场</small></p>\n<form method=\"POST\" action=\"http://www.feedblitz.com/f/f.fbz?AddNewUserDirect\">\n定期获得翻墙信息？<a href=\"http://www.feedblitz.com/f/?Sub=750556\">请电邮订阅数字时代</a> <br /><input name=\"EMAIL\" maxlength=\"64\" type=\"text\" size=\"25\" value=\"\"><br />\n<input name=\"FEEDID\" type=\"hidden\" value=\"750556\"><br />\n<input name=\"PUBLISHER\" type=\"hidden\" value=\"7485568\"><br />\n<input type=\"submit\" value=\"订阅!\"><br />\n</form>\n","author":983,"categories":[15300],"tags":[7775,8510,8795]}