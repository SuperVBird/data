{"id":277910,"link":"https://chinadigitaltimes.net/chinese/2013/02/翻墙-不越狱ios设备facebook穿墙术两招（非代理）/","date":"2013-02-05T07:00:17Z","modified":"2013-02-05T07:00:17Z","title":"翻墙 | 不越狱ios设备Facebook穿墙术两招（非代理）","content":"<p><span></p>\n<p>介绍两种不用代理上Facebook的方法<br />方法一是TCP DNS法，方法二是hosts法<br />可能有童鞋会有疑问: 标题党！你不是说是不越狱设备吗？不越狱怎么改hosts？！<br />骚安勿躁，hosts法不是直接修改设备的hosts文件，而是可以实现与hosts文件相同的两点作用：屏蔽与引导</p>\n<p>———————————开启了亲爱的分割线—————————————-<br />前言:某墙对Facebook的封锁方法是DNS污染，也就是说无论你选择什么DNS返回的都是错误的IP<br />某墙没有封锁Facebook的IP和它使用的CDN的IP，twitter的IP却被封的死死的，so，想要不翻墙上推的人<br />你还是安心的用dabr吧。</p>\n<p>方法一:TCP DNS法<br />我们平常使用的DNS基本上是UDP协议的53号端口，而UDP协议双方是木有握手滴，某墙就是利用这个在DNS服务器将正确的IP到达客户机前抢先将伪造的IP发回，UDP这个煞笔不检查来源直接就以为是真的了，因为发回IP是错误的，你就打不开FB了。<br />我们用TCP协议来进行DNS查询就不会这样了 （不过据说会受到来自旁路的reset）<br />首先我们要准备一个国外的公共DNS，为什么捏？因为国内的DNS都没开TCP查询<br />你可以用Google的8.8.8.8，8.8.4.4，或者opendns的208.67.222.222，208.67.220.220，再或者v2ex的199.91.73.222</p>\n<p>推荐使用opendns和v2ex的，opendns有三个端口开放:标准的53口、非标的5353口和443口；v2ex有itunes加速功能且也有标准的53口和非标的3389口</p>\n<p>接下来下载TCPDNS或者DNSforwarder<br />TCPDNS小巧开源，DNSforwarder功能稍强（闭源）<br />TCPDNS: 装了python的童鞋下这个 <a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/henices/Tcp-DNS-proxy\">https://github.com/henices/Tcp-DNS-proxy</a><br />没装python的童鞋下这个<br /><a rel=\"nofollow\" target=\"_blank\" href=\"https://code.google.com/p/opengg\">https://code.google.com/p/opengg</a> … ail?name=tcpdns.zip<br />由opengg的作者打包</p>\n<p>DNSforwarder：<a rel=\"nofollow\" target=\"_blank\" href=\"https://docs.google.com/file/d/0B_yf3JQ0zx6janU4T1VlbUgyemc/edit\">https://docs.google.com/file/d/0B_yf3JQ0zx6janU4T1VlbUgyemc/edit</a><br />作者博客:<a rel=\"nofollow\" target=\"_blank\" href=\"http://micasmica.blogspot.com/2011/08/dns.html\">http://micasmica.blogspot.com/2011/08/dns.html</a><br />这两个软件都是通过TCP协议与上游DNS服务器进行查询，然后以转发至本地53号端口（UDP） （dnsforwarder还可以用udp与上游dns服务器进行查询）<br />以DNSforwarder为例，打开配置文件<br />修改<br />LocalInterface #这里填内网IP （为什么不是127.0.0.1？因为等下你的ios设备还要使用这个DNS）<br />PrimaryServer #这里填UDP，为什么呢？平常的网站用udp查询，等在GFWlist的网站才用TCP查询 或者你禁用GFWlist，全局用TCP<br />TCPServer #指定一个支持TCP查询的DNS服务器ip<br />TCPServerPort #指定用TCP查询的DNS的端口 ，标准为53<br />UDPServer #指定一个UDP查询的DNS服务器IP，这里可以填你常用的DNS地址如114dns<br />UDPServerPort #指定一个UDP查询的DNS的端口，标准为53</p>\n<p>其它默认就成，注意检查GFWlist是否加载</p>\n<p>保存后运行，将设备的dns设为你的内网ip<br />然后就可以上Facebook了 Facebook.app和Facebook.safari都可正常使用（如果safari无法打开请使用https）</p>\n<p>—————————————-开启了亲爱的分割线————————————————————<br />方法二:hosts法<br />PC上可以用hosts上Facebook，ios由于系统限制，不越狱的话无法修改hosts文件，但我们可以通过变相手段达到与hosts相同的作用<br />首先我们需要一个工具:Fiddler Web Debuger <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.fiddler2.com\">www.fiddler2.com</a><br />&#8220;Fiddler是最强大最好用的Web调试工具之一，它能记录所有客户端和服务器的http和https请求，允许你监视，设置断点，甚至修改输入输出数据. 使用<br />Fiddler无论对开发还是测试来说，都有很大的帮助&#8221; 摘自网络<br />神器啊 前端攻城湿的必备啊 杀鸡用牛刀啊<br />下载安装后运行<br />Tools-Connection 勾选 Allow Remote Computers To Connect 保存，重启应用<br />将你的ios设备设置代理为:运行Fiddler的PC的内网IP:8888</p>\n<p>然后Tools-HOSTS 导入 smarthosts，保存<br />然后你就可以上Facebook了<br />PS:其实可以用来屏蔽广告，观察APP有木有偷偷干坏事神马的<br />我不知道privoxy可不可以，我想应该也可以吧？</p>\n<p>本文由joe5chu 原创，转载请注明</p>\n<p>原文：<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.joe5chu.me/facebook-ios/\">http://www.joe5chu.me/facebook-ios/</a></span></p>\n<div>获取最新穿墙软件？请发电邮（最好用gmail）到：cdtcaonima@gmail.com。《中国数字时代》开通IPv6，欢迎穿墙阅读。翻越防火长城，你可以到达世界上的每一个角落。（Across the Great Firewall, you can reach every corner in the world.）翻墙利器赛风3下载地址：<a rel=\"nofollow\" target=\"_blank\" href=\"http://dld.bz/caonima326\n\n\"> http://dld.bz/caonima326</p>\n<p></a>，<a rel=\"nofollow\" target=\"_blank\" href=\"http://dld.bz/caonima745\">http://dld.bz/caonima745</a></div>\n</p>\n<p><small>本文由自动聚合程序取自网络，内容和观点不代表数字时代立场</small></p>\n<p><iframe src=\"https://docs.google.com/spreadsheet/embeddedform?hl=zh-CN&#038;formkey=dGRpN3FrVThuMFFsZHBZcmNGLW94dEE6MQ\" width=\"510\" height=\"328\" frameborder=\"0\" marginheight=\"0\" marginwidth=\"0\">Loading&#8230;</iframe></p>\n<form method=\"POST\" action=\"http://chinadigitaltimes.us4.list-manage.com/subscribe/post?u=17daa75df533f6c6ff72e51ab&#038;id=b4fd4ae247\">\n<a href=\"http://eepurl.com/mstlf\">墙外新闻实时更新 欢迎订阅数字时代</a><br />\n <br /><input type=\"email\" value=\"\" name=\"EMAIL\" id=\"mce-EMAIL_in_post\" size=\"25\" style=\"display:block;\" placeholder=\"请输入您的邮件地址\" required><br />\n\t<input type=\"submit\" value=\"点击订阅\" name=\"subscribe\" style=\"height: 20px;\" id=\"in_post_subscribe\"><br />\n</form>\n","author":1005,"categories":[18269,15300],"tags":[8795]}