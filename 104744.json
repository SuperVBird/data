{"id":104744,"link":"https://chinadigitaltimes.net/chinese/2010/09/警惕-webqq2-0-的-gmail-钓鱼/","date":"2010-09-14T19:35:46Z","modified":"2010-09-14T19:35:46Z","title":"警惕 WebQQ2.0 的 Gmail 钓鱼","content":"<p><a title=\"http://web2.qq.com/\" rel=\"nofollow\" href=\"http://web2.qq.com/\">WebQQ 2.0 上线</a>，<a title=\"http://www.cnbeta.com/articles/121850.htm\" rel=\"nofollow\" href=\"http://www.cnbeta.com/articles/121850.htm\">腾讯又多了款重量级的应用</a>，但是用过程中发现其 Gmail 模块存在钓鱼的嫌疑。当使用 Chrome 访问其 Gmail 模块时提示为诱骗网站。</p>\n<p><img title=\"http://pic.yupoo.com/feelinglucky/AtjUsvYn/medium.jpg\" src=\"http://pic.yupoo.com/feelinglucky/AtjUsvYn/medium.jpg\" alt=\"http://pic.yupoo.com/feelinglucky/AtjUsvYn/medium.jpg\" /></p>\n<p>展开这个页面的 iframe 地址，发现是在 qq.com 域下</p>\n<p><a title=\"https://web2.qq.com/cgi/gmail/gmail.html\" rel=\"nofollow\" href=\"https://web2.qq.com/cgi/gmail/gmail.html\">https://web2.qq.com/cgi/gmail/gmail.html</a></p>\n<p>但页面的形式与 Google 的风格一致，非常能让用户混淆这就是 Google 自家的页面。</p>\n<p><img title=\"http://pic.yupoo.com/feelinglucky/AtjUtkqO/medium.jpg\" src=\"http://pic.yupoo.com/feelinglucky/AtjUtkqO/medium.jpg\" alt=\"http://pic.yupoo.com/feelinglucky/AtjUtkqO/medium.jpg\" /></p>\n<p>查看其源代码，发现并没有提交到 Google 的痕迹。</p>\n<p>然后我们查看其相关的 gmail.js（<a title=\"https://web2.qq.com/cgi/gmail/gmail.js\" rel=\"nofollow\" href=\"https://web2.qq.com/cgi/gmail/gmail.js\">https://web2.qq.com/cgi/gmail/gmail.js</a>），发现其中有段代码为</p>\n<pre>var option = {retype:3,callback:\"parent.qqweb.app.gmail.getListMail\"};\r\nif (u != null &amp;&amp; p != null) { option.u = u; // Google 帐户用户名 option.p = p; // Google 帐户密码\r\n}\r\nformSend( GMAIL_SERVER_DOMAIN + \"cgi/qqweb/gmail.do\",{method : \"POST\", data : option} );</pre>\n<p>这段应该就是往 <tt>GMAIL_SERVER_DOMAIN</tt> POST 用户名和密码登录了，那么 GMAIL_SERVER_DOMAIN 的值是什么呢？就在本文件的第 14 行</p>\n<pre>var GMAIL_SERVER_DOMAIN = 'https://web2.qq.com/';</pre>\n<p>也就是说，你的 Gmail 用户名和密码实际上是提交到了</p>\n<pre>https://web2.qq.com/cgi/qqweb/gmail.do</pre>\n<p>这个地址。</p>\n<p>那么，作为个技术人，我不禁想问：<strong>“腾讯，你想干什么？！”</strong> 同时建议已经使用过该模块的用户尽快更改您的 Google 帐号密码，并检查 Gmail 过滤器中有无可疑的项目。</p>\n<p>PS，这次的 WebQQ2.0 放弃了 YUI，使用了名为 <a title=\"https://web2.qq.com/cgi/gmail/jet.all.js\" rel=\"nofollow\" href=\"https://web2.qq.com/cgi/gmail/jet.all.js\">Jet 的 JavaScript 框架</a>，对其感兴趣的可以关注。</p>\n<p>UPDATE</p>\n<ul>\n<li>该 URL 在 Firefox 中也已被人举报为恶意网站</li>\n<li><a title=\"http://www.cnbeta.com/articles/121884.htm\" rel=\"nofollow\" href=\"http://www.cnbeta.com/articles/121884.htm\">该 Gmail 应用已经被撤下</a>，对应的 JS 文件也已被删除</li>\n</ul>\n<p><tt>-- EOF --</tt></p>\n<p><a href=\"http://beidaibiao.info\" target=\"_blank\">“要翻墙，用赛风”</a>.</p>\n","author":1,"categories":[20534],"tags":[8975,10734,8800,14309]}