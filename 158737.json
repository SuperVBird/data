{"id":158737,"link":"https://chinadigitaltimes.net/chinese/2011/06/记一次结对编程/","date":"2011-06-07T15:30:20Z","modified":"2011-06-07T15:30:20Z","title":"记一次结对编程","content":"<p><p>几天前尔宁找到VirtualII这个软件，凌晨两人聊天回忆过去，觉得该玩点什么，在模拟机上显示几个大字符应该不错，还有意义，于是开始动手。</p>\n<p>一开始最直接的想法就是直接在低分辨率模式下用HLIN, VLIN画线条，我标记出各个点线坐标，尔宁在虚拟机上输入代码（那虚拟机还能模拟软盘的读写声音，太亲切太好玩了！），类似：</p>\n<pre>\n10 HLIN 1, 3, AT 2 : VLIN 2, 3 AT 1\n20 HLIN 2, 3, AT 3 : VLIN 4, 6 AT 5\n</pre>\n<p>嗯，看来我们还没有忘记太多。</p>\n<p>遇到第一个问题，这么写代码很繁琐，容易出错，发现出错后还不容易修改，而且不容易修改摆放的位置（比如居中，一个字符的点阵是6×8，不是8×8，屏幕是40×24，不是40+24 ;-) ）</p>\n<p>为解决移动和居中，可以引入两个代表屏幕位移的变量，比如：</p>\n<pre>\n10 HLIN 1 + X, 3 + X, AT 2 + Y : VLIN 2 + Y, 3 + Y AT 1 + X\n20 HLIN 2 + X, 3 + X, AT 3 + Y : VLIN 4 + Y, 6 + Y AT 5 + X\n</pre>\n<p>不爽的是这样不仅代码不好看，而且做不到最后只用一行代码实现（那时候我们都互相比在一行代码中用更少的字符数）。</p>\n<p>于是就想到不妨用代码来生成代码，上面提到的问题都容易解决。</p>\n<p>我们同意这个思路可行，做法：</p>\n<p>1 把画字符的线段方向和坐标用数组表示，每个字符是由多个笔画数组的数组，四个字符就有四个数组;<br />\n2 循环这四个数组，再循环它的笔画数组，生成画图语句的字符串，输出;</p>\n<p>这样生成代码的程语言选择就多了，更好的是这样就可以用自己习惯的开发环境，不需要直接在那个模拟机下写。我们选择了PHP，简单，够快。</p>\n<p>这时候，轮到我写代码，尔宁在旁观察，提醒拼写错误，偶尔讨论一下。</p>\n<p>每次修改了PHP代码，就运行一次，把输出的代码放到<a href=\"http://www.calormen.com/applesoft/\">一个用javascript实现的Applesoft BASIC解析器</a>里运行看结果。</p>\n<p>结果在<a href=\"http://erning.net/archives/applesoft-basic-code-sample\">尔宁的blog</a>上可以看到，还有最终<a href=\"http://www.flickr.com/photos/zendragon/4666724359/\">运行结果的截屏</a>。</p>\n<p>回顾</p>\n<p>这居然是我们兄弟俩第一次的结对编程 :D</p>\n<p>再次证明:</p>\n<p>0 结对编程可以很好玩，能够很快进入并保持状态;</p>\n<p>1 好的测试环境和工具很重要（那个javascript BASIC 解析器省了我们很多时间）;</p>\n<p>2 尽量不在受限的部署环境下开发;</p>\n<p>3 写程序是为了解决问题;</p>\n<p>4 如果写程序中遇到了问题，可以再写程序来解决写那个程序解决问题时遇到的问题。GOTO 3;</p>\n<p>5 不要忘记 GOTO</p>\n<p>两人用一台i5 CPU, 4G内存的笔记本和一台1.6GHz CPU，2G内存笔记本（跑VirutalII），来实现一个在48K，40×24, 16色显示器的代码…… 够搞的，好玩 :D</p>\n<p>好吧，可以说我们兄弟俩今天是够Nerd的，但肯定不是Nervous的 ;-)</p>\n</p>\n<p><small>本文由自动聚合程序取自网络，内容和观点不代表数字时代立场</small></p>\n<form method=\"POST\" action=\"http://www.feedblitz.com/f/f.fbz?AddNewUserDirect\">\n定期获得翻墙信息？<a href=\"http://www.feedblitz.com/f/?Sub=750556\">请电邮订阅数字时代</a> <br /><input name=\"EMAIL\" maxlength=\"64\" type=\"text\" size=\"25\" value=\"\"><br />\n<input name=\"FEEDID\" type=\"hidden\" value=\"750556\"><br />\n<input name=\"PUBLISHER\" type=\"hidden\" value=\"7485568\"><br />\n<input type=\"submit\" value=\"订阅!\"><br />\n</form>\n","author":176,"categories":[9203],"tags":[]}