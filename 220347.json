{"id":220347,"link":"https://chinadigitaltimes.net/chinese/2012/04/翻墙-ttopenvpn，使用修改autoddvpn方案实现自动翻墙/","date":"2012-04-11T19:09:39Z","modified":"2012-04-11T19:09:39Z","title":"翻墙 | TT+openvpn，使用修改autoddvpn方案实现自动翻墙","content":"<p>原文：<a rel=\"nofollow\" target=\"_blank\" href=\"http://igfw.net/archives/8723\">http://igfw.net/archives/8723</a></p>\n<div></div>\n<div>\n<p>目 前为止，autoddvpn方案只有发布了dd的版本，但细看代码，发现pptp也是有tt选项的，而且原作者也曾说过希望有人给出tt的方案。这几天研 究以后得到以下内容，使得autoddvpn可以在tt下支持openvpn了。拿出来共享。这篇文档修改到目前为止，已经基本完毕了，而且好像不太适合 新手。慢慢看吧。</p>\n<p><strong>前期准备</strong><br />1、路由器刷好TT固件，推荐使用tomatovpn-1.27vpn3.6（如果你用其他版本的tt+vpn，比如Tomato Firmware v1.28.9054 MIPSR2-beta K26 USB vpn3.6,那么有些差异，你需要小心看帖，小心处理），及外网连接。<br /> 2、注册一个VPN，下面以<a rel=\"nofollow\" target=\"_blank\" href=\"http://vcup.in/cz8\">vpncup</a>为例，你要根据实情修改。</p>\n<p><strong>使用openvpn连接的方法：</strong></p>\n<p><strong>一、设置好wan口能够连接外网，并配置openvpn如下图，其他默认。</strong><br /><a rel=\"nofollow\" target=\"_blank\" href=\"http://bbs.nnpps.us/wp-content/uploads/2012/04/basic.png\"><img alt=\"\" src=\"http://bbs.nnpps.us/wp-content/uploads/2012/04/basic.png\" style=\"border-top-width:0px;border-right-width:0px;border-bottom-width:0px;border-left-width:0px;border-color:initial;\" title=\"basic\" width=\"527\" /></a><br /> <a rel=\"nofollow\" target=\"_blank\" href=\"http://bbs.nnpps.us/wp-content/uploads/2012/04/advanced.png\"><img alt=\"\" src=\"http://bbs.nnpps.us/wp-content/uploads/2012/04/advanced.png\" style=\"border-top-width:0px;border-right-width:0px;border-bottom-width:0px;border-left-width:0px;border-color:initial;\" title=\"advanced\" width=\"640\" /></a>openvpn配置内容如下：</p>\n<div>\n<div>\n<ol>\n<li>script-security 2</li>\n<li>up &lsquo;/jffs/openvpn/vpnup.sh openvpn&rsquo;</li>\n<li>down &lsquo;/jffs/openvpn/vpndown.sh openvpn&rsquo;</li>\n<li>client</li>\n<li>resolv-retry infinite</li>\n<li>nobind</li>\n<li>persist-key</li>\n<li>persist-tun</li>\n<li>ca /jffs/openvpn/ca.crt</li>\n<li>auth-user-pass /jffs/openvpn/password.txt</li>\n<li>ns-cert-type server</li>\n<li>comp-lzo</li>\n<li>verb 3</li>\n<li>reneg-sec 0</li>\n<li>auth-nocache</li>\n<li>log-append /tmp/openvpn.log</li>\n</ol></div>\n<p><em>复制代码</em></p>\n</div>\n<p>记得点保存。</p>\n<p><strong>二、准备好jffs如图：</strong><br /> <a rel=\"nofollow\" target=\"_blank\" href=\"http://bbs.nnpps.us/wp-content/uploads/2012/04/jffs2.png\"><img alt=\"\" src=\"http://bbs.nnpps.us/wp-content/uploads/2012/04/jffs2.png\" style=\"border-top-width:0px;border-right-width:0px;border-bottom-width:0px;border-left-width:0px;border-color:initial;\" title=\"jffs2\" width=\"530\" /></a>记得点保存。</p>\n<p><strong>三、创建password应答及ca证书文件</strong><br />&mdash;注意，如果你不是初学者，这步的细节可以忽略，你只要创建好这两个文件就可以了。</p>\n<p> ssh或者telnet进入tt（别问我用户名和密码是什么）<br />C:UsersDosar>telnet 192.168.1.1<br />WRT54GS login:</p>\n","author":1005,"categories":[15300],"tags":[8510,8795]}