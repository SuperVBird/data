{"id":206477,"link":"https://chinadigitaltimes.net/chinese/2012/01/翻墙-chrome与dnsmasq的合体，让你更爽快的使用google/","date":"2012-01-19T08:33:46Z","modified":"2012-01-19T08:33:46Z","title":"翻墙 | Chrome与DNSmasq的合体，让你更爽快的使用Google","content":"<p>原文：<a rel=\"nofollow\" target=\"_blank\" href=\"http://huafeishare.blogspot.com/2012/01/chromednsmasqgoogle.html\">http://huafeishare.blogspot.com/2012/01/chromednsmasqgoogle.html</a></p>\n<p>喜欢使用Google搜索的人都懂得，在天朝使用Google是多么痛苦的一件事，不仅有着一大串的敏感词，还会时不时的抽风。好在现在Google已经全面启用了HTTPS，可以抵御关键词过滤，但是抽风的问题如何解决？</p>\n<p>网友的力量总是无穷无尽的，有人在GoogleCode上创建了Smarthosts项目，通过本地的域名解析来应对DNS污染的问题，不仅更新维护频率高，更是推出了各种各样的版本，其中就包括DNSmasq的版本。项目地址在这里：<a rel=\"nofollow\" target=\"_blank\" href=\"http://l4.si/VuC\">http://l4.si/VuC</a></p>\n<p></p>\n<blockquote>\n<p>小科普：关于Hosts、Dnsmasq</p>\n<p><strong>Hosts</strong>是 一个没有扩展名的系统文件，可以用记事本等工具打开，其作用就是将一些常用的网址域名与其对应的IP地址建立一个关联&#8221;数据库&#8221;，当用户在浏览器中输入一 个需要登录的网址时，系统会首先自动从Hosts文件中寻找对应的IP地址，一旦找到，系统会立即打开对应网页，如果没有找到，则系统再会将网址提交 DNS域名解析服务器进行IP地址的解析。</p>\n<p><strong>DNSmasq</strong>是一个小巧且方便的用于配置DNS和DHCP 的工具，适用于小型网络，它提供了DNS功能和可选择的DHCP功能。它服务那些只在本地适用的域名，这些域名是不会在全球的DNS服务器中出现的。并且 DNSmasq被广泛应用在路由器的第三方固件上（如大名鼎鼎的DD-WRT与Tomato）。</p>\n</blockquote>\n<p></p>\n<p>若您的路由器不支持DNSmasq或者根本不使用路由器，可以直接向下跳到Hosts部分。</p>\n<p></p>\n<blockquote>\n<p>DNSmasq 相对于Hosts的优势就在于DNSmasq支持泛域名的解析。例如<a rel=\"nofollow\" target=\"_blank\" href=\"http://abc.domain.com\">abc.domain.com</a>与<a rel=\"nofollow\" target=\"_blank\" href=\"http://domain.com\">domain.com</a>要同时指向127.0.0.1， 若使用Hosts就需要分别为<a rel=\"nofollow\" target=\"_blank\" href=\"http://abc.domain.com\">abc.domain.com</a>、<a rel=\"nofollow\" target=\"_blank\" href=\"http://domain.com\">domain.com</a>设置解析地址，而DNSmasq只需要指定<a rel=\"nofollow\" target=\"_blank\" href=\"http://domain.com\">domain.com</a>。这样 的特点使得DNSmasq的列表更加简洁与便于维护。并且同一局域网内的设备都能同步更新域名解析信息。</p>\n</blockquote>\n<p></p>\n<p>进入到路由器的DNSmasq设置页面，以Tomato为例：</p>\n<p><a rel=\"nofollow\" target=\"_blank\" href=\"http://gaoliang.me/usr/uploads/2011/12/3615383215.png\" title=\"tomatoDNSmasq.png\"><img alt=\"tomatoDNSmasq.png\" src=\"http://gaoliang.me/usr/uploads/2011/12/3615383215.png\" /> </a></p>\n<p>在自定义设置中填入如下规则</p>\n<p></p>\n<pre lang=\"plain\">#Google Start<br />server=/<a rel=\"nofollow\" target=\"_blank\" href=\"http://android.clients.google.com/8.8.4.4\">android.clients.google.com/8.8.4.4</a><br />server=/<a rel=\"nofollow\" target=\"_blank\" href=\"http://mtalk.google.com/8.8.4.4\">mtalk.google.com/8.8.4.4</a><br /> server=/<a rel=\"nofollow\" target=\"_blank\" href=\"http://talk.google.com/8.8.4.4\">talk.google.com/8.8.4.4</a><br />server=/<a rel=\"nofollow\" target=\"_blank\" href=\"http://reader.googleusercontent.com/8.8.4.4\">reader.googleusercontent.com/8.8.4.4</a><br />address=/<a rel=\"nofollow\" target=\"_blank\" href=\"http://talkx.l.google.com/203.208.46.180\">talkx.l.google.com/203.208.46.180</a><br /> address=/<a rel=\"nofollow\" target=\"_blank\" href=\"http://talkgadget.google.com/203.208.46.180\">talkgadget.google.com/203.208.46.180</a><br />address=/<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.google.com/203.208.46.180\">www.google.com/203.208.46.180</a><br />address=/<a rel=\"nofollow\" target=\"_blank\" href=\"http://music.google.com/203.208.46.180\">music.google.com/203.208.46.180</a><br /> address=/<a rel=\"nofollow\" target=\"_blank\" href=\"http://music.googleusercontent.com/203.208.46.180\">music.googleusercontent.com/203.208.46.180</a><br />address=/<a rel=\"nofollow\" target=\"_blank\" href=\"http://music-streaming.l.google.com/203.208.46.180\">music-streaming.l.google.com/203.208.46.180</a><br /> address=/<a rel=\"nofollow\" target=\"_blank\" href=\"http://large-uploads.l.google.com/203.208.46.180\">large-uploads.l.google.com/203.208.46.180</a><br />address=/<a rel=\"nofollow\" target=\"_blank\" href=\"http://uploadsj.clients.google.com/203.208.46.180\">uploadsj.clients.google.com/203.208.46.180</a><br /> address=/<a rel=\"nofollow\" target=\"_blank\" href=\"http://t.doc-0-0-sj.sj.googleusercontent.com/203.208.46.180\">t.doc-0-0-sj.sj.googleusercontent.com/203.208.46.180</a><br />address=/<a rel=\"nofollow\" target=\"_blank\" href=\"http://google.cn/203.208.45.208\">google.cn/203.208.45.208</a><br /> address=/<a rel=\"nofollow\" target=\"_blank\" href=\"http://google.com/203.208.45.208\">google.com/203.208.45.208</a><br />address=/<a rel=\"nofollow\" target=\"_blank\" href=\"http://google.com.hk/203.208.45.208\">google.com.hk/203.208.45.208</a><br />address=/<a rel=\"nofollow\" target=\"_blank\" href=\"http://googlehosted.com/203.208.45.208\">googlehosted.com/203.208.45.208</a><br /> address=/<a rel=\"nofollow\" target=\"_blank\" href=\"http://android.com/203.208.45.208\">android.com/203.208.45.208</a><br />address=/<a rel=\"nofollow\" target=\"_blank\" href=\"http://google-analytics.com/203.208.45.208\">google-analytics.com/203.208.45.208</a><br />address=/<a rel=\"nofollow\" target=\"_blank\" href=\"http://gstatic.com/203.208.45.208\">gstatic.com/203.208.45.208</a><br /> address=/<a rel=\"nofollow\" target=\"_blank\" href=\"http://youtube.com/203.208.45.206\">youtube.com/203.208.45.206</a><br />address=/<a rel=\"nofollow\" target=\"_blank\" href=\"http://ytimg.com/203.208.45.208\">ytimg.com/203.208.45.208</a><br />address=/<a rel=\"nofollow\" target=\"_blank\" href=\"http://google.com.hk/203.208.45.208\">google.com.hk/203.208.45.208</a><br /> address=/<a rel=\"nofollow\" target=\"_blank\" href=\"http://ggpht.com/203.208.45.208\">ggpht.com/203.208.45.208</a><br />address=/<a rel=\"nofollow\" target=\"_blank\" href=\"http://googleusercontent.com/203.208.45.208\">googleusercontent.com/203.208.45.208</a><br />address=/<a rel=\"nofollow\" target=\"_blank\" href=\"http://appspot.com/203.208.45.208\">appspot.com/203.208.45.208</a><br /> address=/<a rel=\"nofollow\" target=\"_blank\" href=\"http://googlevideo.com/203.208.45.208\">googlevideo.com/203.208.45.208</a><br />address=/<a rel=\"nofollow\" target=\"_blank\" href=\"http://googlecode.com/203.208.45.208\">googlecode.com/203.208.45.208</a><br />address=/<a rel=\"nofollow\" target=\"_blank\" href=\"http://gvt0.cn/203.208.45.208\">gvt0.cn/203.208.45.208</a><br /> address=/<a rel=\"nofollow\" target=\"_blank\" href=\"http://gvt0.com/203.208.45.208\">gvt0.com/203.208.45.208</a><br />address=/<a rel=\"nofollow\" target=\"_blank\" href=\"http://googleapis.com/203.208.45.208\">googleapis.com/203.208.45.208</a><br />address=/<a rel=\"nofollow\" target=\"_blank\" href=\"http://appspot.com/203.208.45.208\">appspot.com/203.208.45.208</a><br /> address=/<a rel=\"nofollow\" target=\"_blank\" href=\"http://gmail.com/203.208.45.208\">gmail.com/203.208.45.208</a><br />address=/<a rel=\"nofollow\" target=\"_blank\" href=\"http://top100.cn/203.208.45.208\">top100.cn/203.208.45.208</a><br />address=/<a rel=\"nofollow\" target=\"_blank\" href=\"http://keyhole.com/203.208.45.208\">keyhole.com/203.208.45.208</a><br /> address=/<a rel=\"nofollow\" target=\"_blank\" href=\"http://goo.gl/203.208.45.208\">goo.gl/203.208.45.208</a><br />address=/<a rel=\"nofollow\" target=\"_blank\" href=\"http://g.co/203.208.45.208\">g.co/203.208.45.208</a><br />address=/<a rel=\"nofollow\" target=\"_blank\" href=\"http://blogspot.com/203.208.45.208\">blogspot.com/203.208.45.208</a><br /> address=/<a rel=\"nofollow\" target=\"_blank\" href=\"http://chrome.angrybirds.com/203.208.45.208\">chrome.angrybirds.com/203.208.45.208</a><br />#Google End<br /><br />#Apple START<br />address=/<a rel=\"nofollow\" target=\"_blank\" href=\"http://phobos.apple.com/203.78.36.40\">phobos.apple.com/203.78.36.40</a><br /> address=/<a rel=\"nofollow\" target=\"_blank\" href=\"http://adcdownload.apple.com/203.78.36.40\">adcdownload.apple.com/203.78.36.40</a><br />address=/<a rel=\"nofollow\" target=\"_blank\" href=\"http://deimos3.apple.com/203.78.36.40\">deimos3.apple.com/203.78.36.40</a><br />address=/<a rel=\"nofollow\" target=\"_blank\" href=\"http://appldnld.apple.com/203.78.36.40\">appldnld.apple.com/203.78.36.40</a><br /> address=/<a rel=\"nofollow\" target=\"_blank\" href=\"http://swcdn.apple.com/203.78.36.40\">swcdn.apple.com/203.78.36.40</a><br />address=/<a rel=\"nofollow\" target=\"_blank\" href=\"http://developer.apple.com/203.78.36.40\">developer.apple.com/203.78.36.40</a><br />#Apple End<br /><br /><br />#Twitter Start<br /> address=/<a rel=\"nofollow\" target=\"_blank\" href=\"http://t.co/199.59.149.243\">t.co/199.59.149.243</a><br />address=/<a rel=\"nofollow\" target=\"_blank\" href=\"http://userstream.twitter.com/199.59.148.139\">userstream.twitter.com/199.59.148.139</a><br />address=/<a rel=\"nofollow\" target=\"_blank\" href=\"http://twitter.com/199.59.149.243\">twitter.com/199.59.149.243</a><br /> address=/<a rel=\"nofollow\" target=\"_blank\" href=\"http://twimg.com/184.169.75.33\">twimg.com/184.169.75.33</a><br />address=/<a rel=\"nofollow\" target=\"_blank\" href=\"http://tinypic.com/209.17.70.144\">tinypic.com/209.17.70.144</a><br />address=/<a rel=\"nofollow\" target=\"_blank\" href=\"http://bitly.com/69.58.188.34\">bitly.com/69.58.188.34</a><br /> address=/<a rel=\"nofollow\" target=\"_blank\" href=\"http://yfrog.com/208.94.0.61\">yfrog.com/208.94.0.61</a><br />address=/<a rel=\"nofollow\" target=\"_blank\" href=\"http://api.mobilepicture.com/208.87.33.151\">api.mobilepicture.com/208.87.33.151</a><br />#Twitter End<br /><br />#Wikimedia Start<br /> address=/<a rel=\"nofollow\" target=\"_blank\" href=\"http://wikipedia.org/208.80.152.201\">wikipedia.org/208.80.152.201</a><br />address=/<a rel=\"nofollow\" target=\"_blank\" href=\"http://wikibooks.org/208.80.152.204\">wikibooks.org/208.80.152.204</a><br />address=/<a rel=\"nofollow\" target=\"_blank\" href=\"http://wikinews.org/208.80.152.206\">wikinews.org/208.80.152.206</a><br /> address=/<a rel=\"nofollow\" target=\"_blank\" href=\"http://wikiquote.org/208.80.152.201\">wikiquote.org/208.80.152.201</a><br />address=/<a rel=\"nofollow\" target=\"_blank\" href=\"http://wikimediafoundation.org/208.80.152.201\">wikimediafoundation.org/208.80.152.201</a><br />address=/<a rel=\"nofollow\" target=\"_blank\" href=\"http://mediawiki.org/208.80.152.201\">mediawiki.org/208.80.152.201</a><br /> #Wikimedia End</pre>\n<p></p>\n<p>最新的列表在这里查看：<a rel=\"nofollow\" target=\"_blank\" href=\"http://l4.si/mp1\">http://l4.si/mp1</a>。保存之后将电脑的DNS服务器设置为路由器的IP地址（若选择了截获DNS端口可不用设置），点击开始-运行-ipconfig /flushdns清空本地DNS缓存，自定义的解析规则就生效了。</p>\n<p>仅仅是更改域名解析还远远不够，若是搜索的关键词当中包含有敏感词汇，还是会被重置链接。接下来就是要让Chrome浏览器强制对Google使用HTTPS加密协议。</p>\n<p>在Chrome的地址栏中输入<span><strong>chrome://net-internals/#hsts</strong></span>并打开，在Add domain的domain处输入需要强制启用HTTPS的网址，并勾选Include subdomains使其子域名也启用HTTPS，点击Add添加。对于Google来说，添加<a rel=\"nofollow\" target=\"_blank\" href=\"http://google.xn--comgoogle-xc6n.com.hk\">Google.com与Google.com.hk</a>即可。</p>\n<p><a rel=\"nofollow\" target=\"_blank\" href=\"http://gaoliang.me/usr/uploads/2011/12/4132758536.png\" title=\"chrome---net-internals.png\"><img alt=\"chrome---net-internals.png\" src=\"http://gaoliang.me/usr/uploads/2011/12/4132758536.png\" /> </a></p>\n</p>\n<p>现在，享用Google这道大餐吧。</p>\n<p>PS：使用本地Hosts可以达到同样的效果，在<a rel=\"nofollow\" target=\"_blank\" href=\"http://l4.si/VuC\">http://l4.si/VuC</a>下载自动更新程序。无法下载的话可以尝试下载本站的备份<a rel=\"nofollow\" target=\"_blank\" href=\"http://l4.si/7Ps\">http://l4.si/7Ps</a>。软件使用非常简单，运行后点击更新即可（由于要对Hosts文件进行操作，部分杀毒软件会警报，请放行。使用360安全卫士时请将Hosts文件设为信任）。</p>\n<div><img alt=\"\" height=\"1\" src=\"https://blogger.googleusercontent.com/tracker/6726446325249619927-2153680689208210377?l=huafeishare.blogspot.com\" width=\"1\" /></div>\n<p> </p>\n<div>翻越防火长城，你可以到达世界上的每一个角落。（Across the Great Firewall, you can reach every corner in the world.）翻墙利器赛风3下载地址：<a rel=\"nofollow\" target=\"_blank\" href=\"http://dld.bz/caonima326\"> http://dld.bz/caonima326</a>，<a rel=\"nofollow\" target=\"_blank\" href=\"http://dld.bz/caonima745\">http://dld.bz/caonima745</a><img alt=\"\" height=\"1\" src=\"https://blogger.googleusercontent.com/tracker/5500297126185736776-7696824680880200096?l=www.chinagfw.org\" width=\"1\" /></div>\n<p><img height=\"1\" src=\"http://feeds.feedburner.com/~r/ChinaGfw/~4/eAafOipoKxI\" width=\"1\" /></p>\n<p><img src=\"http://chinadigitaltimes.net/chinese/files/2012/01/3300becf3615383215.png-150x150.png\" /></p>\n<p><small>本文由自动聚合程序取自网络，内容和观点不代表数字时代立场</small></p>\n<p><iframe src=\"https://docs.google.com/spreadsheet/embeddedform?formkey=dGRpN3FrVThuMFFsZHBZcmNGLW94dEE6MQ\" width=\"450\" height=\"309\" frameborder=\"0\" marginheight=\"0\" marginwidth=\"0\">Loading&#8230;</iframe></p>\n<form method=\"POST\" action=\"http://www.feedblitz.com/f/f.fbz?AddNewUserDirect\">\n定期获得翻墙信息？<a href=\"http://www.feedblitz.com/f/?Sub=738338\">请电邮订阅数字时代</a> <br /><input name=\"EMAIL\" maxlength=\"64\" type=\"text\" size=\"25\" value=\"\"><br />\n<input name=\"FEEDID\" type=\"hidden\" value=\"738338\"><br />\n<input name=\"PUBLISHER\" type=\"hidden\" value=\"7485568\"><br />\n<input type=\"submit\" value=\"订阅!\"><br />\n</form>\n","author":1005,"categories":[15300],"tags":[7775,5908,3764,14373,8795,8800]}