{"id":244857,"link":"https://chinadigitaltimes.net/chinese/2012/08/翻墙-tomato路由器折腾系列3：openvpn-自动翻墙（基于-autoopenvpn-项/","date":"2012-08-03T15:00:22Z","modified":"2012-08-03T15:00:22Z","title":"翻墙 | Tomato路由器折腾系列[3]：OpenVPN 自动翻墙（基于 AutoOpenVPN 项目）","content":"<p>原文：<a rel=\"nofollow\" target=\"_blank\" href=\"http://igfw.net/archives/10850\">http://igfw.net/archives/10850</a></p>\n<div></div>\n<div>\n<p>之前一直在使用 DD-WRT 就是因为 autoddvpn 项目只支持 DD-WRT，并且作者也明确表示没有迁移到其他平台的打算，因此我只能在 DD-WRT 平台下折腾。前几日在 autoddvpn 的 Issues 中闲逛，偶然发现了 <a rel=\"nofollow\" title=\"AutoOpenVPN\" target=\"_blank\" href=\"https://code.google.com/p/autoopenvpn\">AutoOpenVPN</a>这个项目，作者博客中的介绍<a rel=\"nofollow\" title=\"AutoOpenVPN\" target=\"_blank\" href=\"https://www.cmaster.org/zhongguotese/2011/autoopenvpn.html\">在此</a>。经过一番折腾，终于让手里的 Tomato 拥有了自动翻墙的<del>超</del>能力（误），不敢独享，在这里分享给大家。</p>\n<p>1、开启路由器的 SSH 管理，位置在 系统管理>访问设置 下，具体设置如图：<a rel=\"nofollow\" target=\"_blank\" href=\"http://blog.liukangxu.info/wp-content/uploads/2012/08/Tomato_SSH.png\"><img title=\"Tomato_SSH\" src=\"http://blog.liukangxu.info/wp-content/uploads/2012/08/Tomato_SSH.png\" alt=\"\" width=\"600\" height=\"358\" /></a></p>\n<p>2、开启 Jffs 存储，位置在 系统设置>JFFS设置：<a rel=\"nofollow\" target=\"_blank\" href=\"http://blog.liukangxu.info/wp-content/uploads/2012/08/Tomato_JFFS2.png\"><img title=\"Tomato_JFFS2\" src=\"http://blog.liukangxu.info/wp-content/uploads/2012/08/Tomato_JFFS2.png\" alt=\"\" width=\"550\" height=\"206\" /></a></p>\n<p>3、使用 Puttty 等 SSH 客户端连接到路由器，具体操作可参考<a rel=\"nofollow\" title=\"DD-WRT路由器折腾系列[4]：OpenVPN 自动翻墙（基于 autoddvpn 项目）\" target=\"_blank\" href=\"http://blog.liukangxu.info/?p=252\">这篇文章</a>。</p>\n<p>4、获取所需的 .sh 文件并给予可执行权限：</p>\n<pre>cd /jffs  mkdir openvpn  cd /jffs/openvpn  wget <a rel=\"nofollow\" target=\"_blank\" href=\"http://autoopenvpn.googlecode.com/svn/trunk/tomato/chnroutes/chnroutes.sh\">http://autoopenvpn.googlecode.com/svn/trunk/tomato/chnroutes/chnroutes.sh</a>  wget <a rel=\"nofollow\" target=\"_blank\" href=\"http://autoopenvpn.googlecode.com/svn/trunk/tomato/chnroutes/vpnup.sh\">http://autoopenvpn.googlecode.com/svn/trunk/tomato/chnroutes/vpnup.sh</a>  chmod +x *.sh</pre>\n<p>5、配置 OpenVPN 客户端：</p>\n<p><a rel=\"nofollow\" target=\"_blank\" href=\"http://blog.liukangxu.info/wp-content/uploads/2012/08/Tomato_OpenVPN1.png\"><img title=\"Tomato_OpenVPN1\" src=\"http://blog.liukangxu.info/wp-content/uploads/2012/08/Tomato_OpenVPN1.png\" alt=\"\" width=\"500\" height=\"320\" /></a></p>\n<p>在 高级设置 中的 自定义设置 中粘贴以下内容：</p>\n<pre>--script-security 3 system  --route-up \"/jffs/openvpn/vpnup.sh\"</pre>\n<p><a rel=\"nofollow\" target=\"_blank\" href=\"http://blog.liukangxu.info/wp-content/uploads/2012/08/Tomato_OpenVPN2.png\"><img title=\"Tomato_OpenVPN2\" src=\"http://blog.liukangxu.info/wp-content/uploads/2012/08/Tomato_OpenVPN2.png\" alt=\"\" width=\"500\" height=\"404\" /></a></p>\n<p><a rel=\"nofollow\" target=\"_blank\" href=\"http://blog.liukangxu.info/wp-content/uploads/2012/08/Tomato_OpenVPN3.png\"><img title=\"Tomato_OpenVPN3\" src=\"http://blog.liukangxu.info/wp-content/uploads/2012/08/Tomato_OpenVPN3.png\" alt=\"\" width=\"650\" height=\"472\" /></a></p>\n<p>以上操作全部完成后点击右下方的 保存设置 按钮，保存完成后点击左侧的 重启 按钮重新启动路由器，等待2-3分钟，就可以查看效果了。</p>\n<p>  如果前面的设置全部正常的话，此时打开 <a rel=\"nofollow\" target=\"_blank\" href=\"http://ip138.com\">http://ip138.com</a> 看到的应该是你的本地 IP 地址，打开 <a rel=\"nofollow\" target=\"_blank\" href=\"http://whatismyip.com\">http://whatismyip.com</a> 应该可以看到你的 OpenVPN 服务器 IP。</p>\n<p>  拥抱无墙的网络世界吧～</p>\n<p><strong>原文</strong>：<a rel=\"nofollow\" target=\"_blank\" href=\"http://blog.liukangxu.info/?p=362\">http://blog.liukangxu.info/?p=362</a></p>\n</p></div>\n<div>请点击<a rel=\"nofollow\" target=\"_blank\" href=\" https://mycdt0.info\"> https://mycdt0.info</a>，穿墙访问《中国数字时代》（当看到“此网站的安全证书有问题”的提示时，请选择“继续浏览此网站(不推荐)”，忽略证书警告并继续访问网站）。《中国数字时代》开通IPv6，欢迎穿墙阅读。翻越防火长城，你可以到达世界上的每一个角落。（Across the Great Firewall, you can reach every corner in the world.）翻墙利器赛风3下载地址：<a rel=\"nofollow\" target=\"_blank\" href=\"http://dld.bz/caonima326\n\n\"> http://dld.bz/caonima326</p>\n<p></a>，<a rel=\"nofollow\" target=\"_blank\" href=\"http://dld.bz/caonima745\">http://dld.bz/caonima745</a><img width=\"1\" height=\"1\" src=\"https://blogger.googleusercontent.com/tracker/5500297126185736776-4885959093198917121?l=www.chinagfw.org\" alt=\"\" /></div>\n</p>\n<p><small>本文由自动聚合程序取自网络，内容和观点不代表数字时代立场</small></p>\n<p><iframe src=\"https://docs.google.com/spreadsheet/embeddedform?hl=zh-CN&#038;formkey=dGRpN3FrVThuMFFsZHBZcmNGLW94dEE6MQ\" width=\"510\" height=\"328\" frameborder=\"0\" marginheight=\"0\" marginwidth=\"0\">Loading&#8230;</iframe></p>\n<form method=\"POST\" action=\"http://chinadigitaltimes.us4.list-manage.com/subscribe/post?u=17daa75df533f6c6ff72e51ab&#038;id=2ea93c5b7b\">\n定期获得翻墙信息？<a href=\"http://eepurl.com/msuvD\">请电邮订阅数字时代</a><br />\n <br /><input type=\"email\" value=\"\" name=\"EMAIL\" id=\"mce-EMAIL_in_post\" size=\"25\" style=\"display:block;\" placeholder=\"请输入您的邮件地址\" required><br />\n\t<input type=\"submit\" value=\"点击订阅\" name=\"subscribe\" style=\"height: 20px;\" id=\"in_post_subscribe\"><br />\n</form>\n","author":1005,"categories":[18269,15300],"tags":[7775,8510,8795,8817]}