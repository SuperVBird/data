{"id":244856,"link":"https://chinadigitaltimes.net/chinese/2012/08/翻墙-dd-wrt路由器折腾系列4：openvpn-自动翻墙（基于-autoddvpn-项/","date":"2012-08-03T15:00:20Z","modified":"2012-08-03T15:00:20Z","title":"翻墙 | DD-WRT路由器折腾系列[4]：OpenVPN 自动翻墙（基于 autoddvpn 项目）","content":"<p>原文：<a rel=\"nofollow\" target=\"_blank\" href=\"http://igfw.net/archives/10848\">http://igfw.net/archives/10848</a></p>\n<div></div>\n<div>\n<p><a rel=\"nofollow\" title=\"DD-WRT路由器折腾系列[3]：开启 Jffs 和 USB 存储设备挂载\" target=\"_blank\" href=\"http://blog.liukangxu.info/?p=200\">上一个帖子</a>中介绍了如何挂载 Jffs 和 USB 存储设备，在这个帖子中，就要用到前面配置好的 Jffs。首先确认您已经开启了路由器的 Jffs 支持，然后按照以下步骤操作。</p>\n<p>1、在路由器的 Web 管理界面设置 OpenVPN Client（此方法只适用无密码的 OpenVPN 帐号，如果需要密码验证，请手动建立配置文件连接）</p>\n<p> 点击顶部的 服务 > VPN，进入 VPN 设置页面，按下图中的标注进行设置，个别选项可能需要咨询 OpenVPN 服务提供商。</p>\n<p><img src=\"https://lh3.googleusercontent.com/-I8V_d75HyWc/T3q5X6Wd7dI/AAAAAAAAA4w/d1GqNFIAe-M/s512/DD-WRT%252520%252528build%25252017990M%252529%252520-%252520PPTP%2525201.png\" alt=\"\" /></p>\n<p>完成后点击 应用，之后可以到 状态 > OpenVPN 页面中查看连接是否成功。</p>\n<p> <img src=\"https://lh4.googleusercontent.com/-ZJfaqBPT6Zc/T3q9DJGNTJI/AAAAAAAAA5Q/Syew1ulrNi0/s512/DD-WRT%252520%252528build%25252017990M%252529%252520-%252520OpenVPN%2525E7%25258A%2525B6%2525E6%252580%252581.png\" alt=\"\" /></p>\n<p>2、通过 ssh 连接路由器，配置 Jffs</p>\n<p>首先需要一个 ssh 客户端，这里推荐使用 PuttyMan（菩提曼），因为其可以保存登录用户名和密码，方便后文中脱机下载时使用。不过其他客户端诸如 Putty、Tunnelier 等也是可用的，此处以 PuttyMan 为例：</p>\n<p><img src=\"https://lh6.googleusercontent.com/-UWI9UZMDJOE/T3rAYuE1drI/AAAAAAAAA5s/Jsm5MLWLSII/s512/DD-WRT%252520PuttyMan%2525201.png\" alt=\"\" /><img src=\"https://lh6.googleusercontent.com/-zXb8ZIt7VWI/T3rAYp1hAPI/AAAAAAAAA5s/Q1WdHq79mNg/s512/DD-WRT%252520PuttyMan%2525202.png\" alt=\"\" /><img src=\"https://lh5.googleusercontent.com/--rqyIJw5fXA/T3rBCMvSKFI/AAAAAAAAA50/uCnUM4HknJY/s512/DD-WRT%252520PuttyMan%2525203.png\" alt=\"\" /></p>\n<p>在 ssh 中键入如下命令：</p>\n<pre>cd /jffs mkdir /jffs/openvpn cd /jffs/openvpn wget <a rel=\"nofollow\" target=\"_blank\" href=\"http://autoddvpn.googlecode.com/svn/trunk/openvpn/jffs/run.sh\">http://autoddvpn.googlecode.com/svn/trunk/openvpn/jffs/run.sh</a> for i in vpnup vpndown; do wget <a rel=\"nofollow\" target=\"_blank\" href=\"http://autoddvpn.googlecode.com/svn/trunk/$i.sh;done\">http://autoddvpn.googlecode.com/svn/trunk/$i.sh;done</a>; chmod a+x *.sh</pre>\n<p>然后执行一下 ls -l /jffs/openvpn/ 看看是否已经下载好了三个文件并赋予了可执行权限，如图：</p>\n<p> <img src=\"https://lh3.googleusercontent.com/-H_9GGWt2GcE/T3rEyTfjEiI/AAAAAAAAA6A/VA3Hagf5suE/s512/DD-WRT%252520PuttyMan%2525204.png\" alt=\"\" /></p>\n<p> 3、设置开机自启动</p>\n<p>登录 Web 管理界面，点击 管理 > 命令，在命令解释器中输入以下命令：</p>\n<pre>/jffs/openvpn/run.sh</pre>\n<p>点击 保存为启动指令，重启路由器，等待2-3分钟，就可以查看效果了。</p>\n<p>如果前面的设置全部正常的话，此时打开 <a rel=\"nofollow\" target=\"_blank\" href=\"http://ip138.com\">http://ip138.com</a> 看到的应该是你的本地 IP 地址，打开  <a rel=\"nofollow\" target=\"_blank\" href=\"http://whatismyip.com\">http://whatismyip.com</a> 应该可以看到你的 OpenVPN 服务器 IP。</p>\n<p>拥抱无墙的网络世界吧～</p>\n<p>下个帖子将介绍如何安装 Optware 和其他软件，敬请期待～</p>\n<p><strong>原文</strong>：<a rel=\"nofollow\" target=\"_blank\" href=\"http://blog.liukangxu.info/?p=252\">http://blog.liukangxu.info/?p=252</a></p>\n</p></div>\n<div>请点击<a rel=\"nofollow\" target=\"_blank\" href=\" https://mycdt0.info\"> https://mycdt0.info</a>，穿墙访问《中国数字时代》（当看到“此网站的安全证书有问题”的提示时，请选择“继续浏览此网站(不推荐)”，忽略证书警告并继续访问网站）。《中国数字时代》开通IPv6，欢迎穿墙阅读。翻越防火长城，你可以到达世界上的每一个角落。（Across the Great Firewall, you can reach every corner in the world.）翻墙利器赛风3下载地址：<a rel=\"nofollow\" target=\"_blank\" href=\"http://dld.bz/caonima326\n\n\"> http://dld.bz/caonima326</p>\n<p></a>，<a rel=\"nofollow\" target=\"_blank\" href=\"http://dld.bz/caonima745\">http://dld.bz/caonima745</a><img width=\"1\" height=\"1\" src=\"https://blogger.googleusercontent.com/tracker/5500297126185736776-6604537903184838349?l=www.chinagfw.org\" alt=\"\" /></div>\n</p>\n<p><small>本文由自动聚合程序取自网络，内容和观点不代表数字时代立场</small></p>\n<p><iframe src=\"https://docs.google.com/spreadsheet/embeddedform?hl=zh-CN&#038;formkey=dGRpN3FrVThuMFFsZHBZcmNGLW94dEE6MQ\" width=\"510\" height=\"328\" frameborder=\"0\" marginheight=\"0\" marginwidth=\"0\">Loading&#8230;</iframe></p>\n<form method=\"POST\" action=\"http://chinadigitaltimes.us4.list-manage.com/subscribe/post?u=17daa75df533f6c6ff72e51ab&#038;id=b4fd4ae247\">\n定期获得翻墙信息？<a href=\"http://eepurl.com/mstlf\">请电邮订阅数字时代</a><br />\n <br /><input type=\"email\" value=\"\" name=\"EMAIL\" id=\"mce-EMAIL_in_post\" size=\"25\" style=\"display:block;\" placeholder=\"请输入您的邮件地址\" required><br />\n\t<input type=\"submit\" value=\"点击订阅\" name=\"subscribe\" style=\"height: 20px;\" id=\"in_post_subscribe\"><br />\n</form>\n","author":1005,"categories":[18269,15300],"tags":[8510,8795]}