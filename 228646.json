{"id":228646,"link":"https://chinadigitaltimes.net/chinese/2012/06/翻墙-goagent_ios/","date":"2012-06-02T16:17:36Z","modified":"2012-06-02T16:17:36Z","title":"翻墙 | GoAgent_IOS","content":"<p>原文：<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.yuexuan.org/?p=1423\">http://www.yuexuan.org/?p=1423</a></p>\n<div></div>\n<div>\n<p><strong>Note:</strong> Special thanks <a rel=\"nofollow\" target=\"_blank\" href=\"http://twitter.com/linusyang\">Linus Yang</a> for cross compiling python for iOS.</p>\n<p>How to run goagent on iOS Devices.Note: This is only the client part, You should deploy the server-side part at first.Get in trouble? See FAQ section first,Or report an <a rel=\"nofollow\" target=\"_blank\" href=\"https://code.google.com/p/goagent/issues/list\">issue</a></p>\n<h1><a rel=\"nofollow\" name=\"Prerequisites\"></a>Prerequisites</h1>\n<ul>\n<li>A jailbreak iOS device.</li>\n<li>Have goagent server deployed.</li>\n<li>Change Cydia settings : Cydia -> Manage -> Settings -> Developer</li>\n<li>SBSettings</li>\n</ul>\n<h1>  <a rel=\"nofollow\" name=\"Step_by_step\"></a>Step by step</h1>\n<ul>\n<li>Add cydia source <a rel=\"nofollow\" target=\"_blank\" href=\"http://goagent-app.googlecode.com/svn/trunk/cydia/\">http://goagent-app.googlecode.com/svn/trunk/cydia/</a></li>\n<li>Install python 2.7.1 and goagent-local, search and install other denpendencies in cydia if needed.</li>\n<li>Fill in your appid in /User/goagent-local/proxy.ini #note: you can just use iFile</li>\n<li>Import Goagent Certificate(CA.cert). Open mobile safari to download it from <a rel=\"nofollow\" target=\"_blank\" href=\"https://goagent.googlecode.com/files/CA.crt\">here</a> to install Or Use <a rel=\"nofollow\" target=\"_blank\" href=\"http://support.apple.com/kb/dl926\">iPhone Configuration Utility</a>,see <a rel=\"nofollow\" target=\"_blank\" href=\"http://hackerzhou.me/2010/12/iphone-import-self-signed-certificate.html\">this link</a></li>\n<li>Install goagent-toggle, Open SBSettings to toggle it on</li>\n<li>Open Settings -> Wi-Fi -> CurrentWiFi -> HTTP Proxy -> Auto -> <a rel=\"nofollow\" target=\"_blank\" href=\"https://www.google.com/reader/view/\">file://localhost/var/mobile/goagent-local/8087.pac</a> If not work, Try<a rel=\"nofollow\" target=\"_blank\" href=\"https://www.google.com/reader/view/\">file://localhost/var/stash/Applications/MobileSafari.app/8087.pac</a></li>\n<li>Open Facebook to test it.</li>\n</ul>\n<h1><a rel=\"nofollow\" name=\"Todos\"></a>Todos</h1>\n<ul>\n<li>Support iOS5</li>\n<li>Upgrade to Python 2.7 for iOS</li>\n<li>Auto change WIFI or APN proxy settings.</li>\n<li>iPhone Setting App for add custom urls to pac file.</li>\n</ul>\n<h1>  <a rel=\"nofollow\" name=\"FAQ\"></a>FAQ</h1>\n<ul>\n<li>Can not find python 2.6.5 in cydia?</li>\n<li>Change cydia settings : Cydia -> Manage -> Settings -> Developer or Download it from <a rel=\"nofollow\" target=\"_blank\" href=\"https://code.google.com/p/goagent/downloads/list\">here</a></li>\n</ul>\n<ul>\n<li>Why need to import goagent certificate?</li>\n<li>The reason is same as using goagent on Windows.</li>\n</ul>\n<ul>\n<li>Can not open all web pages,Error code 502,Data format at not match issue.</li>\n<li>Make sure you have uploaded goagent server or php fetch server before. Check the appid in proxy.ini whether correct or not.</li>\n</ul>\n<ul>\n<li>Change proxy.ini, no corresponding effect？</li>\n<li>You need to restart goagent, just toggle it off then on.</li>\n</ul>\n<ul>\n<li>Is goagent available under 3G?</li>\n<li>Thanks for the testing by Arama(<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:ljq...@gmail.com\">ljq&#8230;@gmail.com</a>). See <a rel=\"nofollow\" target=\"_blank\" href=\"https://code.google.com/p/goagent/issues/detail?id=1049\">issue 1049</a> for details. You can try it by adding an new APN via iPhone Configuration Utility just like <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.ifanr.com/39426\">Onavo</a> or <a rel=\"nofollow\" target=\"_blank\" href=\"http://chzip.com/\">彩虹流量</a> or <a rel=\"nofollow\" target=\"_blank\" href=\"http://falcop.com/\">falcop</a> does. or try change ProxyAutoConfigURLString in preferences.plist,see <a rel=\"nofollow\" target=\"_blank\" href=\"http://todaym.com/2010/05/iphone-over-the-wall-via-ssh-pac.html#comment-791\">this link</a>.</li>\n</ul>\n<ul>\n<li>Twitter in safari alerts &#8220;403 Forbidden (Rate Limit Exceeded)&#8221;</li>\n<li>GAE IPs banned by mobile twitter,You can use official Twitter client for iOS instead</li>\n</ul>\n<ul>\n<li>YouTube alerts &#8220;This movie format is not supported.&#8221;</li>\n<li>Caused by range fetch, <a rel=\"nofollow\" target=\"_blank\" href=\"http://m.youtube.com\">m.youtube.com</a> and youtube iOS client use different hosts which not in the autorange list.BTW <a rel=\"nofollow\" target=\"_blank\" href=\"http://itunes.apple.com/us/app/dolphin-browser/id452204407?mt=8\">Dolphin Browser</a> and Safari with Frash both works.</li>\n</ul>\n<ul>\n<li>PAC file is invalid?</li>\n<li>The default port setting in pac is 8087 or 8088 (filename). Check with port setting in proxy.ini.You can use your own pac file instead. For some iOS devices, Mobile Safari seems not support local PAC file,i.e.&#8221;file://&#8221; not work.This is a known issue, see <a rel=\"nofollow\" target=\"_blank\" href=\"https://code.google.com/p/goagent/issues/detail?id=873\">issues 873</a> for details.</li>\n</ul>\n<ul>\n<li>What happened when toggle Goagent SBSettings Toggle on?</li>\n<li>Actually Goagent SBSettings Toggle is a daynamic library will be loaded by SBSettings. When you toggle it on, The Toggle sends a command to sbsettingsd by calling notify_post(), this deamon would execute it.</li>\n</ul>\n<ul>\n<li>Goagent SBSettings Toggle is No icon?</li>\n<li>Only have icons for five default SBSettings themes</li>\n</ul>\n<ul>\n<li>Memory usage of goagent?</li>\n<li>Approximately 15Mb.</li>\n</ul>\n<ul>\n<li>Do not want to install SBSettings?</li>\n<li>Try the former methods or wait for new iOS APP(no ETA)</li>\n</ul>\n<ul>\n<li>How to upgrade goagent manually?</li>\n<li>Download latest <a rel=\"nofollow\" target=\"_blank\" href=\"http://goo.gl/pTt0W\">goagent</a>. Stop goagent and replace proxy.ini and proxy.py in /var/mobile/goagent-local.</li>\n</ul>\n<ul>\n<li>The former methods like mobile terminal or rove mobile admin client is still available?</li>\n<li>Yes.</li>\n</ul>\n<ul>\n<li>Run python proxy.py in mobile terminal alerts &#8220;OpenSSL Module : Disabled&#8221;</li>\n<li>You need to run as root.</li>\n</ul>\n<ul>\n<li>Run python proxy.py in mobile terminal alerts &#8220;socket.error: errno 48 Address already in use&#8221;</li>\n<li>The former python process is still runing. run &#8220;killall python&#8221;.</li>\n</ul>\n<p>goagent 1.8.5 稳定版下载 <a rel=\"nofollow\" target=\"_blank\" href=\"http://goo.gl/pTt0W\">http://goo.gl/pTt0W</a></p>\n<h2><a rel=\"nofollow\" name=\"最近更新\"></a>最近更新</h2>\n<ul>\n<li><tt>[0506 是]</tt>去除python服务端对GAE的特定依赖，好处是速度有所提升，并且可以部署到其他平台或主机上。(主机环境使用需安装gevent)</li>\n</ul>\n<h2><a rel=\"nofollow\" name=\"简易教程\"></a>简易教程</h2>\n<ul>\n<li>如何部署和使用goagent，以Windows为例\n<ol>\n<li>申请Google Appengine并创建appid。</li>\n<li>下载goagent稳定版 <a rel=\"nofollow\" target=\"_blank\" href=\"http://code.google.com/p/goagent/\">http://code.google.com/p/goagent/</a></li>\n<li>修改localproxy.ini中的<tt>[gae]</tt>下的appid=你的appid(多appid请用|隔开)</li>\n<li>双击serveruploader.bat(Mac/Linux上传方法请见FAQ)，上传成功后即可使用了(地址<a rel=\"nofollow\" target=\"_blank\" href=\"http://127.0.0.1:8087\">127.0.0.1:8087</a>)</li>\n<li>chrome请安装<a rel=\"nofollow\" target=\"_blank\" href=\"https://chrome.google.com/webstore/detail/dpplabbmogkhghncfbfdeeokoefdjegm\">SwitchySharp</a>插件，然后导入这个设置<a rel=\"nofollow\" target=\"_blank\" href=\"http://goagent.googlecode.com/files/SwitchyOptions.bak\">http://goagent.googlecode.com/files/SwitchyOptions.bak</a></li>\n<li>firefox请安装<a rel=\"nofollow\" target=\"_blank\" href=\"https://addons.mozilla.org/zh-cn/firefox/addon/foxyproxy-standard/\">FoxyProxy</a>，Firefox需要导入证书，方法请见FAQ</li>\n</ol>\n</li>\n</ul>\n<h2>  <a rel=\"nofollow\" name=\"常见问题_FAQ\"></a>常见问题 FAQ</h2>\n<ul>\n<li>goagent是什么？</li>\n<li>goagent是使用Python和Google Appengine SDK编写的网络软件，可以运行在Windows/Mac/Linux/<a rel=\"nofollow\" target=\"_blank\" href=\"http://code.google.com/p/gaeproxy\">Android</a>/<a rel=\"nofollow\" target=\"_blank\" href=\"https://code.google.com/p/goagent/wiki/GoAgent_IOS\">iTouch/iPhone/iPad</a>/<a rel=\"nofollow\" target=\"_blank\" href=\"https://code.google.com/p/goagent/wiki/GoAgent_webOS\">webOS</a>/<a rel=\"nofollow\" target=\"_blank\" href=\"https://code.google.com/p/goagent/wiki/GoAgent_OpenWRT\">OpenWRT</a>/<a rel=\"nofollow\" target=\"_blank\" href=\"https://code.google.com/p/goagent/wiki/GoAgent_Maemo\">Maemo</a>上。</li>\n</ul>\n<ul>\n<li>遇到FAQ没有解决问题怎么办?</li>\n<li>首先请更新客户端和服务端到最新版(见首页)，如果还有问题的话请到<a rel=\"nofollow\" target=\"_blank\" href=\"http://code.google.com/p/goagent/issues/list\">http://code.google.com/p/goagent/issues/list</a> 提出issue。提issue前建议先搜索下看是否是重复的问题，请尽量描述问题产生的原因，配置情况，网络情况等，这样有助于重现问题并解决。虽然我们可能顾不上回答，但是我们保证每个issue都会看的并尝试解决的。</li>\n</ul>\n<ul>\n<li>google reader提示404错误？</li>\n<li>使用<a rel=\"nofollow\" target=\"_blank\" href=\"https://www.google.com/reader\">https://www.google.com/reader</a> 访问.</li>\n</ul>\n<ul>\n<li>google plus不能看内嵌视频？</li>\n<li>把<tt>*://*.<a rel=\"nofollow\" target=\"_blank\" href=\"http://ytimg.com/*\">ytimg.com/*</a></tt>加入规则</li>\n</ul>\n<ul>\n<li>youtube不能上传以及看直播？</li>\n<li>请看<a rel=\"nofollow\" target=\"_blank\" href=\"http://code.google.com/p/goagent/issues/detail?id=2868\">issue 2668</a>.</li>\n</ul>\n<ul>\n<li>提示Error code 502错误怎么办？\n<ul>\n<li>401: Unauthorized 一般是你处于内网环境中，需要设置proxy.ini里面的proxy段落</li>\n<li>404: Not Found 一般是proxy.ini里面appid没有填对，或者服务端没有部署成功。</li>\n<li>503: Service Unavailable 一般是流量用完了，请更换appid</li>\n</ul>\n</li>\n</ul>\n<ul>\n<li>uploader上传失败？\n<ul>\n<li>400: Bad Request 到<a rel=\"nofollow\" target=\"_blank\" href=\"http://appengine.google.com/\">http://appengine.google.com</a>新建一个新的appid再上传。</li>\n<li>404: Not Found 对应的appid没有创建。</li>\n<li>10060 连接服务器超时，建议挂VPN后再上传</li>\n<li>10054 连接被重置，建议挂VPN后再上传</li>\n</ul>\n</li>\n</ul>\n<ul>\n<li>听说goagent保密性比较弱，如何加强？</li>\n<li>下载最新版的客户端，编辑proxy.ini的google_cn google_hk域，mode=https即可.速度也相应变慢，呵呵。</li>\n</ul>\n<ul>\n<li>最新版在哪下载？如何在旧版本上更新新版本？</li>\n<li>还是直接到首页下载，那个链接永远是最新版。旧版本不用管，直接编辑新版的proxy.ini里面的appid即可。</li>\n</ul>\n<ul>\n<li>我是Mac/Linux用户怎么办？</li>\n<li>上传完服务端并设置好proxy.ini之后，在终端直接运行python proxy.py即可。需要Python版本2.6以上。Mac用户可以尝试 <a rel=\"nofollow\" target=\"_blank\" href=\"https://goagent.googlecode.com/files/GoAgentMac.dmg\">GoAgent Mac GUI</a>或者<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ohdarling/GoAgentX\">GoAgentX</a></li>\n</ul>\n<ul>\n<li>Linux/Mac如何上传服务端？</li>\n<li>在server目录下运行&#8221;python uploader.zip&#8221;(没有引号)，如果要上传python服务端的话，在server目录下运行&#8221;uploaddir=python python uploader.zip&#8221;(没有引号) 或者尝试<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ohdarling/GoAgentX\">GoAgentX</a></li>\n</ul>\n<ul>\n<li>支持多个appid做负载平衡吗？</li>\n<li>目前goagent最新版是支持的，在proxy.ini中的<tt>[gae]</tt>项目下这样配置即可appid=id1|id2|id3</li>\n</ul>\n<ul>\n<li>配置多appid有什么用？</li>\n<li>最新版的GAE服务端已经是python27，所以多appid现在只是起到增加流量配额的作用。提高并发的作用已经被GAE内置的功能取代了。</li>\n</ul>\n<ul>\n<li>GAE在2011-09-01推出了新版的收费计划，如何规避？</li>\n<li>  使用goagent 1.6以上版本的服务端。</li>\n</ul>\n<ul>\n<li>如何使用php模式？\n<ol>\n<li>申请一个免费的php空间，然后通过在线代码编辑器或者ftp客户端把fetch.php上传到你申请到php网站的根目录。假设为<a rel=\"nofollow\" target=\"_blank\" href=\"http://goagent.php.com/fetch.php\">http://goagent.php.com/fetch.php</a></li>\n<li>访问你的fetch.php地址，比如<a rel=\"nofollow\" target=\"_blank\" href=\"http://goagent.php.com/fetch.php\">http://goagent.php.com/fetch.php</a>，如果没有问题的话，说明部署成功。</li>\n<li>编辑proxy.ini<tt>[php]</tt>项目, enable=1和fetchserver=你的fetch.php地址，重启goagent.exe即可。</li>\n<li>图文教程请见<a rel=\"nofollow\" target=\"_blank\" href=\"http://ishare.cn.ms/archives/552\">http://ishare.cn.ms/archives/552</a></li>\n</ol>\n</li>\n</ul>\n<ul>\n<li>如何设为系统服务（开机自启动）？</li>\n<li>双击addto-startup.vbs即可。</li>\n</ul>\n<ul>\n<li>goagent支持IPv6网络吗？</li>\n<li>支持的。profile=google_ipv6即可。</li>\n</ul>\n<ul>\n<li>为什么goagent第一次运行需要管理员权限？</li>\n<li>因为goagent会尝试调用certmgr.exe向系统导入IE/Chrome的证书，这需要管理员权限。</li>\n</ul>\n<ul>\n<li>Firefox怎么不能登陆twitter/facebook等网站, Firefox如何导入证书?</li>\n<li>打开FireFox->选项->高级->加密->查看证书->证书机构->导入证书, 选择localca.crt, 勾选所有项，导入。</li>\n</ul>\n<ul>\n<li>Chrome下如何使用goagent?</li>\n<li>Chrome可以安装switchysharp插件，然后导入这个设置<a rel=\"nofollow\" target=\"_blank\" href=\"http://goagent.googlecode.com/files/SwitchyOptions.bak\">http://goagent.googlecode.com/files/SwitchyOptions.bak</a>.</li>\n</ul>\n<ul>\n<li>需要装Python或者Google Appenginge SDK后才能用goagent吗？</li>\n<li>完全不用，goagent是绿色软件哦。</li>\n</ul>\n<ul>\n<li>goagent原理是什么？</li>\n<li>goagent是GAE应用，原理可以参考这个图<a rel=\"nofollow\" target=\"_blank\" href=\"http://cms4g-proxy.googlecode.com/svn/wiki/res/%E4%BB%A3%E7%90%86%E7%A4%BA%E6%84%8F%E5%9B%BE.png\">原理示意图</a></li>\n</ul>\n<ul>\n<li>支持gfwlist么？</li>\n<li>这个问题考虑过，但是还是放弃了。goagent需要保持简单快速，支持gfwlist请使用autoproxy/switchysharp。</li>\n</ul>\n<ul>\n<li>如何防止goagent被匿名使用(盗用)？</li>\n<li>目前goagent最新版是支持的，注意:本功能不会影响网速，请放心使用。\n<ul>\n<li>golang版本：servergolangfetch.go中const段落开头修改<tt>Password = \"123456\"</tt>，重新上传fetch.go,然后在proxy.ini中的gae项目下这样配置即可password = 123456，即可。</li>\n<li>python版本：先在serverpythonfetch.py中开头修改<tt>__password__ = &#39;123456&#39;</tt>，重新上传fetch.py,然后在proxy.ini中的gae项目下这样配置即可password = 123456，即可。</li>\n</ul>\n</li>\n</ul>\n<ul>\n<li>怎样设置不显示气泡提示？</li>\n<li>用reshack/exescope等资源编辑工具把气泡提示字符串清空即可。</li>\n</ul>\n<ul>\n<li>如何删除<a rel=\"nofollow\" target=\"_blank\" href=\"http://appengine.google.com\">appengine.google.com</a>上老的appid？</li>\n<li>可以的，请看<a rel=\"nofollow\" target=\"_blank\" href=\"http://code.google.com/p/goagent/issues/detail?id=1501\">issue 1501</a></li>\n</ul>\n<ul>\n<li>如何得到goagent的源代码？</li>\n<li>goagent的代码和程序是一起的，源代码就是运行程序。</li>\n</ul>\n<ul>\n<li>MultiplexConnection Cannot hosts错误？</li>\n<li>看起来你的ISP封锁了<a rel=\"nofollow\" target=\"_blank\" href=\"http://google.cn\">google.cn</a>，请尝试profile=google_hk这个选项，如果还不行，换PHP模式吧。</li>\n</ul>\n<ul>\n<li>如何对goagent进行修改？</li>\n<li>客户端代码直接改local/proxy.py,改完重启goagent.exe即可；服务端改server/fetch.py,改完用uploader.bat上传即可。</li>\n</ul>\n<ul>\n<li>为什么要叫goagent，而不叫GoProxy？</li>\n<li>一开始叫GoProxy的，后来Hewig说软件名字带有proxy字样不祥，于是就改成了goagent。</li>\n</ul>\n</div>\n<div>请为我们投票：<a rel=\"nofollow\" target=\"_blank\" href=\"https://thebobs.com/chinese/category/2012/best-blog-2012/\">https://thebobs.com/chinese/category/2012/best-blog-2012/</a>。点击<a rel=\"nofollow\" target=\"_blank\" href=\"https://mycdt4.info/chinese/\">https://mycdt4.info/chinese/</a>，穿墙访问《中国数字时代》。《中国数字时代》开通IPv6，欢迎穿墙阅读。翻越防火长城，你可以到达世界上的每一个角落。（Across the Great Firewall, you can reach every corner in the world.）翻墙利器赛风3下载地址：<a rel=\"nofollow\" target=\"_blank\" href=\"http://dld.bz/caonima326\n\n\"> http://dld.bz/caonima326</p>\n<p></a>，<a rel=\"nofollow\" target=\"_blank\" href=\"http://dld.bz/caonima745\">http://dld.bz/caonima745</a><img width=\"1\" height=\"1\" src=\"https://blogger.googleusercontent.com/tracker/5500297126185736776-5132358204358073206?l=www.chinagfw.org\" alt=\"\" /></div>\n</p>\n<p><small>本文由自动聚合程序取自网络，内容和观点不代表数字时代立场</small></p>\n<p><iframe src=\"https://docs.google.com/spreadsheet/embeddedform?hl=zh-CN&#038;formkey=dGRpN3FrVThuMFFsZHBZcmNGLW94dEE6MQ\" width=\"510\" height=\"328\" frameborder=\"0\" marginheight=\"0\" marginwidth=\"0\">Loading&#8230;</iframe></p>\n<form method=\"POST\" action=\"http://www.feedblitz.com/f/f.fbz?AddNewUserDirect\">\n定期获得翻墙信息？<a href=\"http://www.feedblitz.com/f/?Sub=735659\">请电邮订阅数字时代</a> <br /><input name=\"EMAIL\" maxlength=\"64\" type=\"text\" size=\"25\" value=\"\">  <input type=\"submit\" id=\"in_post_subscribe\" value=\"订阅!\"><br />\n<input name=\"FEEDID\" type=\"hidden\" value=\"735659\"><br />\n<input name=\"PUBLISHER\" type=\"hidden\" value=\"7485568\"><br />\n</form>\n","author":1005,"categories":[18269,15300],"tags":[8795]}