{"id":196249,"link":"https://chinadigitaltimes.net/chinese/2011/11/翻墙-windows-xp单网卡开启nat实现客户端通过vpn服务上网（配/","date":"2011-11-16T05:30:34Z","modified":"2011-11-16T05:30:34Z","title":"翻墙 | Windows XP单网卡开启NAT实现客户端通过VPN服务上网（配合OpenVPN）","content":"<p><p>Windows XP系统下利用OpenVPN搭建VPN服务器可以参考 <a rel=\"nofollow\" target=\"_blank\" href=\"http://igfw.tk/archives/3010\">http://igfw.tk/archives/3010</a> （看起来很复杂，其实主要是生成证书麻烦，有了证书以后就很简单了）。不过文中说的是internet连接共享“来实现clinet通过VPN SERVER上网，这种方法需要两块网卡，本文主要是说Windows XP系统下单网卡开启NAT实现VPN共享上网，具体步骤如下：</p>\n<p><span></span>1) 在服务里打开 Routing and remote access服务 ，将其启动类型设置为自动</p>\n<p>2) 修改注册表（开启TCP/IP转发）</p>\n<p>HKEY_LOCAL_MACHINESYSTEMCurrentControlSetServicesTcpipParametersIPEnableRouter=1</p>\n<p>3) 在命令提示符里输入以下命令，停止RAS 服务</p>\n<blockquote>\n<p>net stop remoteaccess</p>\n</blockquote>\n<p>4)在命令提示符里依次输入以下命令，安装配置nat</p>\n<blockquote>\n<p>netsh</p>\n<p>routing ip nat</p>\n<p>install</p>\n<p>add interface “本地连接” full</p>\n<p>add interface “本地连接 2″ private</p>\n<p>add interface name=”内部” mode=private</p>\n</blockquote>\n<p>其中“本地连接 ”为你用作服务器的电脑上用于上外网的连接名，“本地连接 2”为你安装OpenVPN时生成的虚拟网卡连接名，视自己电脑情况改动， “内部”只有在有vpn client连接的时候才能看到，一般来说，“内部”这个名字是不用改的。配置完成后输入show interface命令后显示：<br />\nNAT 内部 配置<br />\n—————————<br />\n模式              : 专用接口</p>\n<p>NAT 本地连接 配置<br />\n—————————<br />\n模式              : 地址和端口转换<br />\nNAT 本地连接 2 配置<br />\n—————————<br />\n模式              : 专用接口<br />\n即表示NAT配置成功。</p>\n<p>5)重启电脑，连接OpenVPN服务器即可实现客户端通过VPN服务器上网。<br />\n<strong></strong></p>\n<p><strong>本文原始地址</strong>：<a rel=\"nofollow\" target=\"_blank\" href=\"http://igfw.tk/archives/6418\">http://igfw.tk/archives/6418</a></p>\n</p>\n<p><small>本文由自动聚合程序取自网络，内容和观点不代表数字时代立场</small></p>\n<form method=\"POST\" action=\"http://www.feedblitz.com/f/f.fbz?AddNewUserDirect\">\n定期获得翻墙信息？<a href=\"http://www.feedblitz.com/f/?Sub=738338\">请电邮订阅数字时代</a> <br /><input name=\"EMAIL\" maxlength=\"64\" type=\"text\" size=\"25\" value=\"\"><br />\n<input name=\"FEEDID\" type=\"hidden\" value=\"738338\"><br />\n<input name=\"PUBLISHER\" type=\"hidden\" value=\"7485568\"><br />\n<input type=\"submit\" value=\"订阅!\"><br />\n</form>\n","author":983,"categories":[15300],"tags":[8510,8795,8817]}