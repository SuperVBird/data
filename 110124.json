{"id":110124,"link":"https://chinadigitaltimes.net/chinese/2010/09/分享一段自动识别手机的php代码/","date":"2010-09-30T20:30:22Z","modified":"2010-09-30T20:30:22Z","title":"分享一段自动识别手机的php代码","content":"<p><p>如果你的手机能翻墙，当你访问 http://zuo.la/  和 http://www.zuola.com 的首页时，会看到不同的内容，怎么做到的？下面是代码，用来判断user agent的，希望对你有用。</p>\n<p>重要的是，这段代码的版权不归我，是我从<a href=\"http://crowdfavorite.com/wordpress\">WordPress Mobile Edition</a> 找出来的，单独拿出来用可以解决些简单的问题。</p>\n<blockquote>\n<p><?php</p>\n<p>$mobile = array(<br />\n&#8216;2.0 MMP&#8217;,<br />\n&#8216;240&#215;320&#8217;,<br />\n&#8216;400X240&#8217;,<br />\n&#8216;AvantGo&#8217;,<br />\n&#8216;BlackBerry&#8217;,<br />\n&#8216;Blazer&#8217;,<br />\n&#8216;Cellphone&#8217;,<br />\n&#8216;Danger&#8217;,<br />\n&#8216;DoCoMo&#8217;,<br />\n&#8216;Elaine/3.0&#8217;,<br />\n&#8216;EudoraWeb&#8217;,<br />\n&#8216;Googlebot-Mobile&#8217;,<br />\n&#8216;hiptop&#8217;,<br />\n&#8216;IEMobile&#8217;,<br />\n&#8216;KYOCERA/WX310K&#8217;,<br />\n&#8216;LG/U990&#8217;,<br />\n&#8216;MIDP-2.&#8217;,<br />\n&#8216;MMEF20&#8217;,<br />\n&#8216;MOT-V&#8217;,<br />\n&#8216;NetFront&#8217;,<br />\n&#8216;Newt&#8217;,<br />\n&#8216;Nintendo Wii&#8217;,<br />\n&#8216;Nitro&#8217;, // Nintendo DS<br />\n&#8216;Nokia&#8217;,<br />\n&#8216;Opera Mini&#8217;,<br />\n&#8216;Palm&#8217;,<br />\n&#8216;PlayStation Portable&#8217;,<br />\n&#8216;portalmmm&#8217;,<br />\n&#8216;Proxinet&#8217;,<br />\n&#8216;ProxiNet&#8217;,<br />\n&#8216;SHARP-TQ-GX10&#8217;,<br />\n&#8216;SHG-i900&#8217;,<br />\n&#8216;Small&#8217;,<br />\n&#8216;SonyEricsson&#8217;,<br />\n&#8216;Symbian OS&#8217;,<br />\n&#8216;SymbianOS&#8217;,<br />\n&#8216;TS21i-10&#8217;,<br />\n&#8216;UP.Browser&#8217;,<br />\n&#8216;UP.Link&#8217;,<br />\n&#8216;webOS&#8217;, // Palm Pre, etc.<br />\n&#8216;Windows CE&#8217;,<br />\n&#8216;WinWAP&#8217;,<br />\n&#8216;YahooSeeker/M1A1-R2D2&#8217;,<br />\n);<br />\n$touch = array(<br />\n&#8216;iPhone&#8217;,<br />\n&#8216;iPod&#8217;,<br />\n&#8216;Android&#8217;,<br />\n&#8216;BlackBerry9530&#8217;,<br />\n&#8216;LG-TU915 Obigo&#8217;, // LG touch browser<br />\n&#8216;LGE VX&#8217;,<br />\n&#8216;webOS&#8217;, // Palm Pre, etc.<br />\n&#8216;Nokia5800&#8217;,<br />\n);</p>\n<p>$browsers = array_merge($touch, $mobile);<br />\nforeach ($browsers as $browser) {<br />\nif (!empty($browser) &#038;&#038; strpos($_SERVER[&#8220;HTTP_USER_AGENT&#8221;], trim($browser)) !== false) {<br />\n$mobile = true;<br />\ninclude_once(&#8216;mobile.php&#8217;);   // mobile version page,replace file name here<br />\nexit;<br />\n}<br />\n}</p>\n<p>readfile(&#8216;html.htm&#8217;);   // normal version page, repleace file name here<br />\nexit;<br />\n?></p>\n</blockquote>\n<hr noshade>\n<p>© Zola  | <a href=\"http://creativecommons.org/licenses/by-sa/2.5/cn/\" title=\"可自由转载，采用“创作共用署名-相同方式共享 2.5 中国大陆许可协议”进行许可\">CC</a> |<br />\n\t  <a href=\"https://www.zuola.com/weblog/?p=1552#comments\">前面的有 4 人</a>  | <a href=\"http://www.zuola.com/index.xml\">国外订阅</a> | <a href=\"http://feed.zuola.com\">国内订阅</a> | <a href=\"http://zuo.la/help/\">FAQ</a> |<br />\n<a href=\"http://zuo.la/donate/\" title=\"赞助方式\">Donate</a> | Tor\n</p></p>\n","author":176,"categories":[9203],"tags":[]}